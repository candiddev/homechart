import{dY as Ir,dZ as Ae,c as Ce,d_ as Dr,dT as Ve,S as at,a8 as Rr,D as Ar,d$ as Pr,A as Ge,dU as Tr,ab as Sr,e0 as Ht,I as Xe,e1 as jr,e2 as zr,m as ge,e3 as Nr,ah as Fe,ai as We,e4 as Lr,e5 as Ur,e6 as Fr,aY as Wr,e7 as Br,e8 as qr,dW as Vr,e9 as Gr,ea as Hr,eb as Xr,cA as $r,T as Qr,ec as Yr,af as Zr,a as Jr,by as Cr,dj as Mr,ed as Kr}from"./index-09c2e996.js";import{C as en,F as tn}from"./FormImportCSV-767bd78d.js";import{F as rn}from"./Filter-01c23926.js";import{T as nn}from"./TableColumnHousehold-f6fe7c15.js";import{G as on}from"./GetHelp-610c77dd.js";var Er={},an={get exports(){return Er},set exports(be){Er=be}};(function(be,oe){(function(u,w){be.exports=w()})(window,function(){return function(u){var w={};function e(n){if(w[n])return w[n].exports;var i=w[n]={i:n,l:!1,exports:{}};return u[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=u,e.c=w,e.d=function(n,i,s){e.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:s})},e.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,i){if(1&i&&(n=e(n)),8&i||4&i&&typeof n=="object"&&n&&n.__esModule)return n;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:n}),2&i&&typeof n!="string")for(var f in n)e.d(s,f,function(m){return n[m]}.bind(null,f));return s},e.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(i,"a",i),i},e.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},e.p="/",e(e.s=72)}([function(u,w){u.exports=function(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e},u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w){u.exports=function(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w){function e(n){return u.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},u.exports.__esModule=!0,u.exports.default=u.exports,e(n)}u.exports=e,u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w){u.exports=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w){function e(n,i){for(var s=0;s<i.length;s++){var f=i[s];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(n,f.key,f)}}u.exports=function(n,i,s){return i&&e(n.prototype,i),s&&e(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n},u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w,e){e.d(w,"a",function(){return n}),e.d(w,"b",function(){return i}),e.d(w,"c",function(){return s}),e.d(w,"d",function(){return f});var n={};e.r(n),e.d(n,"EPSILON",function(){return m}),e.d(n,"ARRAY_TYPE",function(){return O}),e.d(n,"RANDOM",function(){return R}),e.d(n,"setMatrixArrayType",function(){return E}),e.d(n,"toRadian",function(){return U}),e.d(n,"equals",function(){return W});var i={};e.r(i),e.d(i,"create",function(){return ae}),e.d(i,"clone",function(){return ie}),e.d(i,"copy",function(){return H}),e.d(i,"identity",function(){return $}),e.d(i,"fromValues",function(){return I}),e.d(i,"set",function(){return N}),e.d(i,"transpose",function(){return b}),e.d(i,"invert",function(){return D}),e.d(i,"adjoint",function(){return T}),e.d(i,"determinant",function(){return P}),e.d(i,"multiply",function(){return q}),e.d(i,"rotate",function(){return V}),e.d(i,"scale",function(){return j}),e.d(i,"fromRotation",function(){return Q}),e.d(i,"fromScaling",function(){return S}),e.d(i,"str",function(){return K}),e.d(i,"frob",function(){return ee}),e.d(i,"LDU",function(){return J}),e.d(i,"add",function(){return ne}),e.d(i,"subtract",function(){return A}),e.d(i,"exactEquals",function(){return M}),e.d(i,"equals",function(){return L}),e.d(i,"multiplyScalar",function(){return te}),e.d(i,"multiplyScalarAndAdd",function(){return Z}),e.d(i,"mul",function(){return se}),e.d(i,"sub",function(){return pe});var s={};e.r(s),e.d(s,"create",function(){return me}),e.d(s,"clone",function(){return ye}),e.d(s,"fromValues",function(){return Oe}),e.d(s,"copy",function(){return Me}),e.d(s,"set",function(){return Ee}),e.d(s,"add",function(){return Re}),e.d(s,"subtract",function(){return Se}),e.d(s,"multiply",function(){return De}),e.d(s,"divide",function(){return ze}),e.d(s,"ceil",function(){return Pe}),e.d(s,"floor",function(){return vt}),e.d(s,"min",function(){return Ke}),e.d(s,"max",function(){return Xt}),e.d(s,"round",function(){return $t}),e.d(s,"scale",function(){return gt}),e.d(s,"scaleAndAdd",function(){return Qt}),e.d(s,"distance",function(){return mt}),e.d(s,"squaredDistance",function(){return yt}),e.d(s,"length",function(){return it}),e.d(s,"squaredLength",function(){return xt}),e.d(s,"negate",function(){return ut}),e.d(s,"inverse",function(){return _t}),e.d(s,"normalize",function(){return bt}),e.d(s,"dot",function(){return wt}),e.d(s,"cross",function(){return ct}),e.d(s,"lerp",function(){return Yt}),e.d(s,"random",function(){return Zt}),e.d(s,"transformMat2",function(){return Ot}),e.d(s,"transformMat2d",function(){return Jt}),e.d(s,"transformMat3",function(){return Rt}),e.d(s,"transformMat4",function(){return Ct}),e.d(s,"rotate",function(){return Ne}),e.d(s,"angle",function(){return Kt}),e.d(s,"zero",function(){return Mt}),e.d(s,"str",function(){return er}),e.d(s,"exactEquals",function(){return tr}),e.d(s,"equals",function(){return Et}),e.d(s,"len",function(){return At}),e.d(s,"sub",function(){return rr}),e.d(s,"mul",function(){return St}),e.d(s,"div",function(){return kt}),e.d(s,"dist",function(){return nr}),e.d(s,"sqrDist",function(){return It}),e.d(s,"sqrLen",function(){return or}),e.d(s,"forEach",function(){return Dt});var f={};e.r(f),e.d(f,"create",function(){return $e}),e.d(f,"clone",function(){return et}),e.d(f,"length",function(){return st}),e.d(f,"fromValues",function(){return ar}),e.d(f,"copy",function(){return Pt}),e.d(f,"set",function(){return Qe}),e.d(f,"add",function(){return ft}),e.d(f,"subtract",function(){return Le}),e.d(f,"multiply",function(){return Tt}),e.d(f,"divide",function(){return jt}),e.d(f,"ceil",function(){return ir}),e.d(f,"floor",function(){return ur}),e.d(f,"min",function(){return He}),e.d(f,"max",function(){return lt}),e.d(f,"round",function(){return zt}),e.d(f,"scale",function(){return cr}),e.d(f,"scaleAndAdd",function(){return sr}),e.d(f,"distance",function(){return Nt}),e.d(f,"squaredDistance",function(){return Lt}),e.d(f,"squaredLength",function(){return dt}),e.d(f,"negate",function(){return fr}),e.d(f,"inverse",function(){return lr}),e.d(f,"normalize",function(){return Ut}),e.d(f,"dot",function(){return Ye}),e.d(f,"cross",function(){return Ze}),e.d(f,"lerp",function(){return tt}),e.d(f,"hermite",function(){return Ft}),e.d(f,"bezier",function(){return dr}),e.d(f,"random",function(){return ke}),e.d(f,"transformMat4",function(){return rt}),e.d(f,"transformMat3",function(){return Wt}),e.d(f,"transformQuat",function(){return hr}),e.d(f,"rotateX",function(){return pr}),e.d(f,"rotateY",function(){return nt}),e.d(f,"rotateZ",function(){return Bt}),e.d(f,"angle",function(){return vr}),e.d(f,"zero",function(){return gr}),e.d(f,"str",function(){return mr}),e.d(f,"exactEquals",function(){return yr}),e.d(f,"equals",function(){return xr}),e.d(f,"sub",function(){return qt}),e.d(f,"mul",function(){return _r}),e.d(f,"div",function(){return br}),e.d(f,"dist",function(){return Vt}),e.d(f,"sqrDist",function(){return wr}),e.d(f,"len",function(){return ht}),e.d(f,"sqrLen",function(){return Or}),e.d(f,"forEach",function(){return Gt});var m=1e-6,O=typeof Float32Array<"u"?Float32Array:Array,R=Math.random;function E(a){O=a}var B=Math.PI/180;function U(a){return a*B}function W(a,d){return Math.abs(a-d)<=m*Math.max(1,Math.abs(a),Math.abs(d))}function ae(){var a=new O(4);return O!=Float32Array&&(a[1]=0,a[2]=0),a[0]=1,a[3]=1,a}function ie(a){var d=new O(4);return d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],d}function H(a,d){return a[0]=d[0],a[1]=d[1],a[2]=d[2],a[3]=d[3],a}function $(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a}function I(a,d,y,k){var z=new O(4);return z[0]=a,z[1]=d,z[2]=y,z[3]=k,z}function N(a,d,y,k,z){return a[0]=d,a[1]=y,a[2]=k,a[3]=z,a}function b(a,d){if(a===d){var y=d[1];a[1]=d[2],a[2]=y}else a[0]=d[0],a[1]=d[2],a[2]=d[1],a[3]=d[3];return a}function D(a,d){var y=d[0],k=d[1],z=d[2],G=d[3],re=y*G-z*k;return re?(re=1/re,a[0]=G*re,a[1]=-k*re,a[2]=-z*re,a[3]=y*re,a):null}function T(a,d){var y=d[0];return a[0]=d[3],a[1]=-d[1],a[2]=-d[2],a[3]=y,a}function P(a){return a[0]*a[3]-a[2]*a[1]}function q(a,d,y){var k=d[0],z=d[1],G=d[2],re=d[3],ce=y[0],de=y[1],xe=y[2],we=y[3];return a[0]=k*ce+G*de,a[1]=z*ce+re*de,a[2]=k*xe+G*we,a[3]=z*xe+re*we,a}function V(a,d,y){var k=d[0],z=d[1],G=d[2],re=d[3],ce=Math.sin(y),de=Math.cos(y);return a[0]=k*de+G*ce,a[1]=z*de+re*ce,a[2]=k*-ce+G*de,a[3]=z*-ce+re*de,a}function j(a,d,y){var k=d[0],z=d[1],G=d[2],re=d[3],ce=y[0],de=y[1];return a[0]=k*ce,a[1]=z*ce,a[2]=G*de,a[3]=re*de,a}function Q(a,d){var y=Math.sin(d),k=Math.cos(d);return a[0]=k,a[1]=y,a[2]=-y,a[3]=k,a}function S(a,d){return a[0]=d[0],a[1]=0,a[2]=0,a[3]=d[1],a}function K(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}function ee(a){return Math.hypot(a[0],a[1],a[2],a[3])}function J(a,d,y,k){return a[2]=k[2]/k[0],y[0]=k[0],y[1]=k[1],y[3]=k[3]-a[2]*y[1],[a,d,y]}function ne(a,d,y){return a[0]=d[0]+y[0],a[1]=d[1]+y[1],a[2]=d[2]+y[2],a[3]=d[3]+y[3],a}function A(a,d,y){return a[0]=d[0]-y[0],a[1]=d[1]-y[1],a[2]=d[2]-y[2],a[3]=d[3]-y[3],a}function M(a,d){return a[0]===d[0]&&a[1]===d[1]&&a[2]===d[2]&&a[3]===d[3]}function L(a,d){var y=a[0],k=a[1],z=a[2],G=a[3],re=d[0],ce=d[1],de=d[2],xe=d[3];return Math.abs(y-re)<=m*Math.max(1,Math.abs(y),Math.abs(re))&&Math.abs(k-ce)<=m*Math.max(1,Math.abs(k),Math.abs(ce))&&Math.abs(z-de)<=m*Math.max(1,Math.abs(z),Math.abs(de))&&Math.abs(G-xe)<=m*Math.max(1,Math.abs(G),Math.abs(xe))}function te(a,d,y){return a[0]=d[0]*y,a[1]=d[1]*y,a[2]=d[2]*y,a[3]=d[3]*y,a}function Z(a,d,y,k){return a[0]=d[0]+y[0]*k,a[1]=d[1]+y[1]*k,a[2]=d[2]+y[2]*k,a[3]=d[3]+y[3]*k,a}Math.hypot||(Math.hypot=function(){for(var a=0,d=arguments.length;d--;)a+=arguments[d]*arguments[d];return Math.sqrt(a)});var se=q,pe=A;function me(){var a=new O(2);return O!=Float32Array&&(a[0]=0,a[1]=0),a}function ye(a){var d=new O(2);return d[0]=a[0],d[1]=a[1],d}function Oe(a,d){var y=new O(2);return y[0]=a,y[1]=d,y}function Me(a,d){return a[0]=d[0],a[1]=d[1],a}function Ee(a,d,y){return a[0]=d,a[1]=y,a}function Re(a,d,y){return a[0]=d[0]+y[0],a[1]=d[1]+y[1],a}function Se(a,d,y){return a[0]=d[0]-y[0],a[1]=d[1]-y[1],a}function De(a,d,y){return a[0]=d[0]*y[0],a[1]=d[1]*y[1],a}function ze(a,d,y){return a[0]=d[0]/y[0],a[1]=d[1]/y[1],a}function Pe(a,d){return a[0]=Math.ceil(d[0]),a[1]=Math.ceil(d[1]),a}function vt(a,d){return a[0]=Math.floor(d[0]),a[1]=Math.floor(d[1]),a}function Ke(a,d,y){return a[0]=Math.min(d[0],y[0]),a[1]=Math.min(d[1],y[1]),a}function Xt(a,d,y){return a[0]=Math.max(d[0],y[0]),a[1]=Math.max(d[1],y[1]),a}function $t(a,d){return a[0]=Math.round(d[0]),a[1]=Math.round(d[1]),a}function gt(a,d,y){return a[0]=d[0]*y,a[1]=d[1]*y,a}function Qt(a,d,y,k){return a[0]=d[0]+y[0]*k,a[1]=d[1]+y[1]*k,a}function mt(a,d){var y=d[0]-a[0],k=d[1]-a[1];return Math.hypot(y,k)}function yt(a,d){var y=d[0]-a[0],k=d[1]-a[1];return y*y+k*k}function it(a){var d=a[0],y=a[1];return Math.hypot(d,y)}function xt(a){var d=a[0],y=a[1];return d*d+y*y}function ut(a,d){return a[0]=-d[0],a[1]=-d[1],a}function _t(a,d){return a[0]=1/d[0],a[1]=1/d[1],a}function bt(a,d){var y=d[0],k=d[1],z=y*y+k*k;return z>0&&(z=1/Math.sqrt(z)),a[0]=d[0]*z,a[1]=d[1]*z,a}function wt(a,d){return a[0]*d[0]+a[1]*d[1]}function ct(a,d,y){var k=d[0]*y[1]-d[1]*y[0];return a[0]=a[1]=0,a[2]=k,a}function Yt(a,d,y,k){var z=d[0],G=d[1];return a[0]=z+k*(y[0]-z),a[1]=G+k*(y[1]-G),a}function Zt(a,d){d=d||1;var y=2*R()*Math.PI;return a[0]=Math.cos(y)*d,a[1]=Math.sin(y)*d,a}function Ot(a,d,y){var k=d[0],z=d[1];return a[0]=y[0]*k+y[2]*z,a[1]=y[1]*k+y[3]*z,a}function Jt(a,d,y){var k=d[0],z=d[1];return a[0]=y[0]*k+y[2]*z+y[4],a[1]=y[1]*k+y[3]*z+y[5],a}function Rt(a,d,y){var k=d[0],z=d[1];return a[0]=y[0]*k+y[3]*z+y[6],a[1]=y[1]*k+y[4]*z+y[7],a}function Ct(a,d,y){var k=d[0],z=d[1];return a[0]=y[0]*k+y[4]*z+y[12],a[1]=y[1]*k+y[5]*z+y[13],a}function Ne(a,d,y,k){var z=d[0]-y[0],G=d[1]-y[1],re=Math.sin(k),ce=Math.cos(k);return a[0]=z*ce-G*re+y[0],a[1]=z*re+G*ce+y[1],a}function Kt(a,d){var y=a[0],k=a[1],z=d[0],G=d[1],re=Math.sqrt(y*y+k*k)*Math.sqrt(z*z+G*G),ce=re&&(y*z+k*G)/re;return Math.acos(Math.min(Math.max(ce,-1),1))}function Mt(a){return a[0]=0,a[1]=0,a}function er(a){return"vec2("+a[0]+", "+a[1]+")"}function tr(a,d){return a[0]===d[0]&&a[1]===d[1]}function Et(a,d){var y=a[0],k=a[1],z=d[0],G=d[1];return Math.abs(y-z)<=m*Math.max(1,Math.abs(y),Math.abs(z))&&Math.abs(k-G)<=m*Math.max(1,Math.abs(k),Math.abs(G))}var Be,At=it,rr=Se,St=De,kt=ze,nr=mt,It=yt,or=xt,Dt=(Be=me(),function(a,d,y,k,z,G){var re,ce;for(d||(d=2),y||(y=0),ce=k?Math.min(k*d+y,a.length):a.length,re=y;re<ce;re+=d)Be[0]=a[re],Be[1]=a[re+1],z(Be,Be,G),a[re]=Be[0],a[re+1]=Be[1];return a});function $e(){var a=new O(3);return O!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a}function et(a){var d=new O(3);return d[0]=a[0],d[1]=a[1],d[2]=a[2],d}function st(a){var d=a[0],y=a[1],k=a[2];return Math.hypot(d,y,k)}function ar(a,d,y){var k=new O(3);return k[0]=a,k[1]=d,k[2]=y,k}function Pt(a,d){return a[0]=d[0],a[1]=d[1],a[2]=d[2],a}function Qe(a,d,y,k){return a[0]=d,a[1]=y,a[2]=k,a}function ft(a,d,y){return a[0]=d[0]+y[0],a[1]=d[1]+y[1],a[2]=d[2]+y[2],a}function Le(a,d,y){return a[0]=d[0]-y[0],a[1]=d[1]-y[1],a[2]=d[2]-y[2],a}function Tt(a,d,y){return a[0]=d[0]*y[0],a[1]=d[1]*y[1],a[2]=d[2]*y[2],a}function jt(a,d,y){return a[0]=d[0]/y[0],a[1]=d[1]/y[1],a[2]=d[2]/y[2],a}function ir(a,d){return a[0]=Math.ceil(d[0]),a[1]=Math.ceil(d[1]),a[2]=Math.ceil(d[2]),a}function ur(a,d){return a[0]=Math.floor(d[0]),a[1]=Math.floor(d[1]),a[2]=Math.floor(d[2]),a}function He(a,d,y){return a[0]=Math.min(d[0],y[0]),a[1]=Math.min(d[1],y[1]),a[2]=Math.min(d[2],y[2]),a}function lt(a,d,y){return a[0]=Math.max(d[0],y[0]),a[1]=Math.max(d[1],y[1]),a[2]=Math.max(d[2],y[2]),a}function zt(a,d){return a[0]=Math.round(d[0]),a[1]=Math.round(d[1]),a[2]=Math.round(d[2]),a}function cr(a,d,y){return a[0]=d[0]*y,a[1]=d[1]*y,a[2]=d[2]*y,a}function sr(a,d,y,k){return a[0]=d[0]+y[0]*k,a[1]=d[1]+y[1]*k,a[2]=d[2]+y[2]*k,a}function Nt(a,d){var y=d[0]-a[0],k=d[1]-a[1],z=d[2]-a[2];return Math.hypot(y,k,z)}function Lt(a,d){var y=d[0]-a[0],k=d[1]-a[1],z=d[2]-a[2];return y*y+k*k+z*z}function dt(a){var d=a[0],y=a[1],k=a[2];return d*d+y*y+k*k}function fr(a,d){return a[0]=-d[0],a[1]=-d[1],a[2]=-d[2],a}function lr(a,d){return a[0]=1/d[0],a[1]=1/d[1],a[2]=1/d[2],a}function Ut(a,d){var y=d[0],k=d[1],z=d[2],G=y*y+k*k+z*z;return G>0&&(G=1/Math.sqrt(G)),a[0]=d[0]*G,a[1]=d[1]*G,a[2]=d[2]*G,a}function Ye(a,d){return a[0]*d[0]+a[1]*d[1]+a[2]*d[2]}function Ze(a,d,y){var k=d[0],z=d[1],G=d[2],re=y[0],ce=y[1],de=y[2];return a[0]=z*de-G*ce,a[1]=G*re-k*de,a[2]=k*ce-z*re,a}function tt(a,d,y,k){var z=d[0],G=d[1],re=d[2];return a[0]=z+k*(y[0]-z),a[1]=G+k*(y[1]-G),a[2]=re+k*(y[2]-re),a}function Ft(a,d,y,k,z,G){var re=G*G,ce=re*(2*G-3)+1,de=re*(G-2)+G,xe=re*(G-1),we=re*(3-2*G);return a[0]=d[0]*ce+y[0]*de+k[0]*xe+z[0]*we,a[1]=d[1]*ce+y[1]*de+k[1]*xe+z[1]*we,a[2]=d[2]*ce+y[2]*de+k[2]*xe+z[2]*we,a}function dr(a,d,y,k,z,G){var re=1-G,ce=re*re,de=G*G,xe=ce*re,we=3*G*ce,Te=3*de*re,je=de*G;return a[0]=d[0]*xe+y[0]*we+k[0]*Te+z[0]*je,a[1]=d[1]*xe+y[1]*we+k[1]*Te+z[1]*je,a[2]=d[2]*xe+y[2]*we+k[2]*Te+z[2]*je,a}function ke(a,d){d=d||1;var y=2*R()*Math.PI,k=2*R()-1,z=Math.sqrt(1-k*k)*d;return a[0]=Math.cos(y)*z,a[1]=Math.sin(y)*z,a[2]=k*d,a}function rt(a,d,y){var k=d[0],z=d[1],G=d[2],re=y[3]*k+y[7]*z+y[11]*G+y[15];return re=re||1,a[0]=(y[0]*k+y[4]*z+y[8]*G+y[12])/re,a[1]=(y[1]*k+y[5]*z+y[9]*G+y[13])/re,a[2]=(y[2]*k+y[6]*z+y[10]*G+y[14])/re,a}function Wt(a,d,y){var k=d[0],z=d[1],G=d[2];return a[0]=k*y[0]+z*y[3]+G*y[6],a[1]=k*y[1]+z*y[4]+G*y[7],a[2]=k*y[2]+z*y[5]+G*y[8],a}function hr(a,d,y){var k=y[0],z=y[1],G=y[2],re=y[3],ce=d[0],de=d[1],xe=d[2],we=z*xe-G*de,Te=G*ce-k*xe,je=k*de-z*ce,qe=z*je-G*Te,ot=G*we-k*je,pt=k*Te-z*we,h=2*re;return we*=h,Te*=h,je*=h,qe*=2,ot*=2,pt*=2,a[0]=ce+we+qe,a[1]=de+Te+ot,a[2]=xe+je+pt,a}function pr(a,d,y,k){var z=[],G=[];return z[0]=d[0]-y[0],z[1]=d[1]-y[1],z[2]=d[2]-y[2],G[0]=z[0],G[1]=z[1]*Math.cos(k)-z[2]*Math.sin(k),G[2]=z[1]*Math.sin(k)+z[2]*Math.cos(k),a[0]=G[0]+y[0],a[1]=G[1]+y[1],a[2]=G[2]+y[2],a}function nt(a,d,y,k){var z=[],G=[];return z[0]=d[0]-y[0],z[1]=d[1]-y[1],z[2]=d[2]-y[2],G[0]=z[2]*Math.sin(k)+z[0]*Math.cos(k),G[1]=z[1],G[2]=z[2]*Math.cos(k)-z[0]*Math.sin(k),a[0]=G[0]+y[0],a[1]=G[1]+y[1],a[2]=G[2]+y[2],a}function Bt(a,d,y,k){var z=[],G=[];return z[0]=d[0]-y[0],z[1]=d[1]-y[1],z[2]=d[2]-y[2],G[0]=z[0]*Math.cos(k)-z[1]*Math.sin(k),G[1]=z[0]*Math.sin(k)+z[1]*Math.cos(k),G[2]=z[2],a[0]=G[0]+y[0],a[1]=G[1]+y[1],a[2]=G[2]+y[2],a}function vr(a,d){var y=a[0],k=a[1],z=a[2],G=d[0],re=d[1],ce=d[2],de=Math.sqrt(y*y+k*k+z*z)*Math.sqrt(G*G+re*re+ce*ce),xe=de&&Ye(a,d)/de;return Math.acos(Math.min(Math.max(xe,-1),1))}function gr(a){return a[0]=0,a[1]=0,a[2]=0,a}function mr(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"}function yr(a,d){return a[0]===d[0]&&a[1]===d[1]&&a[2]===d[2]}function xr(a,d){var y=a[0],k=a[1],z=a[2],G=d[0],re=d[1],ce=d[2];return Math.abs(y-G)<=m*Math.max(1,Math.abs(y),Math.abs(G))&&Math.abs(k-re)<=m*Math.max(1,Math.abs(k),Math.abs(re))&&Math.abs(z-ce)<=m*Math.max(1,Math.abs(z),Math.abs(ce))}var qt=Le,_r=Tt,br=jt,Vt=Nt,wr=Lt,ht=st,Or=dt,Gt=function(){var a=$e();return function(d,y,k,z,G,re){var ce,de;for(y||(y=3),k||(k=0),de=z?Math.min(z*y+k,d.length):d.length,ce=k;ce<de;ce+=y)a[0]=d[ce],a[1]=d[ce+1],a[2]=d[ce+2],G(a,a,re),d[ce]=a[0],d[ce+1]=a[1],d[ce+2]=a[2];return d}}()},function(u,w,e){var n=e(17).default,i=e(1);u.exports=function(s,f){if(f&&(n(f)==="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i(s)},u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w,e){var n=e(40);u.exports=function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),s&&n(i,s)},u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w,e){var n=e(139)();u.exports=n;try{regeneratorRuntime=n}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},function(u,w,e){w.a={init:function(n,i){n.fill(i)},shuffle:function(n){for(var i=n.length-1;i>0;i--){var s=Math.floor(Math.random()*(i+1)),f=[n[s],n[i]];n[i]=f[0],n[s]=f[1]}return n},toPointList:function(n){var i=n.reduce(function(s,f){var m="[".concat(f.join(","),"]");return s.push(m),s},[]);return"[".concat(i.join(`,\r
`),"]")},threshold:function(n,i,s){return n.reduce(function(f,m){return s.apply(n,[m])>=i&&f.push(m),f},[])},maxIndex:function(n){for(var i=0,s=0;s<n.length;s++)n[s]>n[i]&&(i=s);return i},max:function(n){for(var i=0,s=0;s<n.length;s++)n[s]>i&&(i=n[s]);return i},sum:function(n){for(var i=n.length,s=0;i--;)s+=n[i];return s}}},function(u,w,e){e.d(w,"h",function(){return m}),e.d(w,"i",function(){return R}),e.d(w,"b",function(){return E}),e.d(w,"j",function(){return B}),e.d(w,"e",function(){return U}),e.d(w,"c",function(){return W}),e.d(w,"f",function(){return ae}),e.d(w,"g",function(){return ie}),e.d(w,"a",function(){return $}),e.d(w,"d",function(){return N});var n=e(5),i=e(9);n.a.setMatrixArrayType(Array);var s=function(b,D){var T=[],P={rad:0,vec:n.c.clone([0,0])},q={};function V(Q){q[Q.id]=Q,T.push(Q)}function j(){var Q,S=0;for(Q=0;Q<T.length;Q++)S+=T[Q].rad;P.rad=S/T.length,P.vec=n.c.clone([Math.cos(P.rad),Math.sin(P.rad)])}return V(b),j(),{add:function(Q){q[Q.id]||(V(Q),j())},fits:function(Q){return Math.abs(n.c.dot(Q.point.vec,P.vec))>D},getPoints:function(){return T},getCenter:function(){return P}}},f=function(b,D,T){return{rad:b[T],point:b,id:D}};function m(b,D){return{x:b,y:D,toVec2:function(){return n.c.clone([this.x,this.y])},toVec3:function(){return n.d.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function O(b,D){D||(D=8);for(var T=b.data,P=T.length,q=8-D,V=new Int32Array(1<<D);P--;)V[T[P]>>q]++;return V}function R(b,D){var T=function(P){var q,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8,j=8-V;function Q(J,ne){for(var A=0,M=J;M<=ne;M++)A+=q[M];return A}function S(J,ne){for(var A=0,M=J;M<=ne;M++)A+=M*q[M];return A}function K(){var J,ne,A,M,L=[0],te=(1<<V)-1;q=O(P,V);for(var Z=1;Z<te;Z++)(A=(J=Q(0,Z))*(ne=Q(Z+1,te)))===0&&(A=1),M=S(0,Z)*ne-S(Z+1,te)*J,L[Z]=M*M/A;return i.a.maxIndex(L)}var ee=K();return ee<<j}(b);return function(P,q,V){V||(V=P);for(var j=P.data,Q=j.length,S=V.data;Q--;)S[Q]=j[Q]<q?1:0}(b,T,D),T}function E(b,D,T){var P,q,V,j,Q=[];function S(K){var ee=!1;for(q=0;q<Q.length;q++)(V=Q[q]).fits(K)&&(V.add(K),ee=!0);return ee}for(T||(T="rad"),P=0;P<b.length;P++)S(j=f(b[P],P,T))||Q.push(s(j,D));return Q}n.a.setMatrixArrayType(Array);function B(b,D,T){var P,q,V,j,Q=0,S=0,K=[];for(P=0;P<D;P++)K[P]={score:0,item:null};for(P=0;P<b.length;P++)if((q=T.apply(this,[b[P]]))>S)for((V=K[Q]).score=q,V.item=b[P],S=Number.MAX_VALUE,j=0;j<D;j++)K[j].score<S&&(S=K[j].score,Q=j);return K}function U(b,D,T){for(var P,q=0,V=D.x,j=Math.floor(b.length/4),Q=D.x/2,S=0,K=D.x;V<j;){for(P=0;P<Q;P++)T[S]=(.299*b[4*q+0]+.587*b[4*q+1]+.114*b[4*q+2]+(.299*b[4*(q+1)+0]+.587*b[4*(q+1)+1]+.114*b[4*(q+1)+2])+(.299*b[4*V+0]+.587*b[4*V+1]+.114*b[4*V+2])+(.299*b[4*(V+1)+0]+.587*b[4*(V+1)+1]+.114*b[4*(V+1)+2]))/4,S++,q+=2,V+=2;q+=K,V+=K}}function W(b,D,T){var P=b.length/4|0;if(T&&T.singleChannel===!0)for(var q=0;q<P;q++)D[q]=b[4*q+0];else for(var V=0;V<P;V++)D[V]=.299*b[4*V+0]+.587*b[4*V+1]+.114*b[4*V+2]}function ae(b,D){for(var T=b.data,P=b.size.x,q=D.data,V=0,j=P,Q=T.length,S=P/2,K=0;j<Q;){for(var ee=0;ee<S;ee++)q[K]=Math.floor((T[V]+T[V+1]+T[j]+T[j+1])/4),K++,V+=2,j+=2;V+=P,j+=P}}function ie(b){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],T=b[0],P=b[1],q=b[2],V=q*P,j=V*(1-Math.abs(T/60%2-1)),Q=q-V,S=0,K=0,ee=0;return T<60?(S=V,K=j):T<120?(S=j,K=V):T<180?(K=V,ee=j):T<240?(K=j,ee=V):T<300?(S=j,ee=V):T<360&&(S=V,ee=j),D[0]=255*(S+Q)|0,D[1]=255*(K+Q)|0,D[2]=255*(ee+Q)|0,D}function H(b){for(var D=[],T=[],P=1;P<Math.sqrt(b)+1;P++)b%P==0&&(T.push(P),P!==b/P&&D.unshift(Math.floor(b/P)));return T.concat(D)}function $(b,D){var T,P=H(D.x),q=H(D.y),V=Math.max(D.x,D.y),j=function(A,M){for(var L=0,te=0,Z=[];L<A.length&&te<M.length;)A[L]===M[te]?(Z.push(A[L]),L++,te++):A[L]>M[te]?te++:L++;return Z}(P,q),Q=[8,10,15,20,32,60,80],S={"x-small":5,small:4,medium:3,large:2,"x-large":1},K=S[b]||S.medium,ee=Q[K],J=Math.floor(V/ee);function ne(A){for(var M=0,L=A[Math.floor(A.length/2)];M<A.length-1&&A[M]<J;)M++;return M>0&&(L=Math.abs(A[M]-J)>Math.abs(A[M-1]-J)?A[M-1]:A[M]),J/L<Q[K+1]/Q[K]&&J/L>Q[K-1]/Q[K]?{x:L,y:L}:null}return(T=ne(j))||(T=ne(H(V)))||(T=ne(H(J*ee))),T}var I={top:function(b,D){return b.unit==="%"?Math.floor(D.height*(b.value/100)):null},right:function(b,D){return b.unit==="%"?Math.floor(D.width-D.width*(b.value/100)):null},bottom:function(b,D){return b.unit==="%"?Math.floor(D.height-D.height*(b.value/100)):null},left:function(b,D){return b.unit==="%"?Math.floor(D.width*(b.value/100)):null}};function N(b,D,T){var P={width:b,height:D},q=Object.keys(T).reduce(function(V,j){var Q=function(K){return{value:parseFloat(K),unit:(K.indexOf("%"),K.length,"%")}}(T[j]),S=I[j](Q,P);return V[j]=S,V},{});return{sx:q.left,sy:q.top,sw:q.right-q.left,sh:q.bottom-q.top}}},function(u,w,e){var n=e(61),i=e.n(n),s=e(3),f=e.n(s),m=e(4),O=e.n(m),R=e(0),E=e.n(R),B=e(5),U=e(9),W=e(10);function ae(H){if(H<0)throw new Error("expected positive number, received ".concat(H))}B.a.setMatrixArrayType(Array);var ie=function(){function H($,I){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Uint8Array,b=arguments.length>3?arguments[3]:void 0;f()(this,H),E()(this,"data",void 0),E()(this,"size",void 0),E()(this,"indexMapping",void 0),I?this.data=I:(this.data=new N($.x*$.y),b&&U.a.init(this.data,0)),this.size=$}return O()(H,[{key:"inImageWithBorder",value:function($){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ae(I),$.x>=0&&$.y>=0&&$.x<this.size.x+2*I&&$.y<this.size.y+2*I}},{key:"subImageAsCopy",value:function($,I){ae(I.x),ae(I.y);for(var N=$.size,b=N.x,D=N.y,T=0;T<b;T++)for(var P=0;P<D;P++)$.data[P*b+T]=this.data[(I.y+P)*this.size.x+I.x+T];return $}},{key:"get",value:function($,I){return this.data[I*this.size.x+$]}},{key:"getSafe",value:function($,I){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var N=0;N<this.size.x;N++)this.indexMapping.x[N]=N,this.indexMapping.x[N+this.size.x]=N;for(var b=0;b<this.size.y;b++)this.indexMapping.y[b]=b,this.indexMapping.y[b+this.size.y]=b}return this.data[this.indexMapping.y[I+this.size.y]*this.size.x+this.indexMapping.x[$+this.size.x]]}},{key:"set",value:function($,I,N){return this.data[I*this.size.x+$]=N,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var $=this.size,I=$.x,N=$.y,b=0;b<I;b++)this.data[b]=this.data[(N-1)*I+b]=0;for(var D=1;D<N-1;D++)this.data[D*I]=this.data[D*I+(I-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function($){var I,N,b,D,T,P,q,V,j,Q,S=this.data,K=this.size.y,ee=this.size.x,J=[],ne=[],A=Math.PI,M=A/4;if($<=0)return ne;for(T=0;T<$;T++)J[T]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(N=0;N<K;N++)for(D=N*N,I=0;I<ee;I++)(b=S[N*ee+I])>0&&((P=J[b-1]).m00+=1,P.m01+=N,P.m10+=I,P.m11+=I*N,P.m02+=D,P.m20+=I*I);for(T=0;T<$;T++)P=J[T],isNaN(P.m00)||P.m00===0||(V=P.m10/P.m00,j=P.m01/P.m00,q=P.m11/P.m00-V*j,Q=(P.m02/P.m00-j*j-(P.m20/P.m00-V*V))/(2*q),Q=.5*Math.atan(Q)+(q>=0?M:-M)+A,P.theta=(180*Q/A+90)%180-90,P.theta<0&&(P.theta+=180),P.rad=Q>A?Q-A:Q,P.vec=B.c.clone([Math.cos(Q),Math.sin(Q)]),ne.push(P));return ne}},{key:"getAsRGBA",value:function(){for(var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,I=new Uint8ClampedArray(4*this.size.x*this.size.y),N=0;N<this.size.y;N++)for(var b=0;b<this.size.x;b++){var D=N*this.size.x+b,T=this.get(b,N)*$;I[4*D+0]=T,I[4*D+1]=T,I[4*D+2]=T,I[4*D+3]=255}return I}},{key:"show",value:function($){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;console.warn("* imagewrapper show getcontext 2d");var N=$.getContext("2d");if(!N)throw new Error("Unable to get canvas context");var b=N.getImageData(0,0,$.width,$.height),D=this.getAsRGBA(I);$.width=this.size.x,$.height=this.size.y;var T=new ImageData(D,b.width,b.height);N.putImageData(T,0,0)}},{key:"overlay",value:function($,I,N){var b=I<0||I>360?360:I,D=[0,1,1],T=[0,0,0],P=[255,255,255],q=[0,0,0];console.warn("* imagewrapper overlay getcontext 2d");var V=$.getContext("2d");if(!V)throw new Error("Unable to get canvas context");for(var j=V.getImageData(N.x,N.y,this.size.x,this.size.y),Q=j.data,S=this.data.length;S--;){D[0]=this.data[S]*b;var K=4*S,ee=D[0]<=0?P:D[0]>=360?q:Object(W.g)(D,T),J=i()(ee,3);Q[K]=J[0],Q[K+1]=J[1],Q[K+2]=J[2],Q[K+3]=255}V.putImageData(j,N.x,N.y)}}]),H}();w.a=ie},function(u,w){function e(n,i,s,f,m,O,R){try{var E=n[O](R),B=E.value}catch(U){return void s(U)}E.done?i(B):Promise.resolve(B).then(f,m)}u.exports=function(n){return function(){var i=this,s=arguments;return new Promise(function(f,m){var O=n.apply(i,s);function R(B){e(O,f,m,R,E,"next",B)}function E(B){e(O,f,m,R,E,"throw",B)}R(void 0)})}},u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w,e){var n=e(140);function i(){return typeof Reflect<"u"&&Reflect.get?(u.exports=i=Reflect.get.bind(),u.exports.__esModule=!0,u.exports.default=u.exports):(u.exports=i=function(s,f,m){var O=n(s,f);if(O){var R=Object.getOwnPropertyDescriptor(O,f);return R.get?R.get.call(arguments.length<3?s:m):R.value}},u.exports.__esModule=!0,u.exports.default=u.exports),i.apply(this,arguments)}u.exports=i,u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w){u.exports=function(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}},function(u,w){var e=Array.isArray;u.exports=e},function(u,w,e){w.a={drawRect:function(n,i,s,f){s.strokeStyle=f.color,s.fillStyle=f.color,s.lineWidth=f.lineWidth||1,s.beginPath(),s.strokeRect(n.x,n.y,i.x,i.y)},drawPath:function(n,i,s,f){s.strokeStyle=f.color,s.fillStyle=f.color,s.lineWidth=f.lineWidth,s.beginPath(),s.moveTo(n[0][i.x],n[0][i.y]);for(var m=1;m<n.length;m++)s.lineTo(n[m][i.x],n[m][i.y]);s.closePath(),s.stroke()},drawImage:function(n,i,s){var f=s.getImageData(0,0,i.x,i.y),m=f.data,O=m.length,R=n.length;if(O/R!=4)return!1;for(;R--;){var E=n[R];m[--O]=255,m[--O]=E,m[--O]=E,m[--O]=E}return s.putImageData(f,0,0),!0}}},function(u,w){function e(n){return u.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},u.exports.__esModule=!0,u.exports.default=u.exports,e(n)}u.exports=e,u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w,e){var n=e(73),i=e(128)(function(s,f,m){n(s,f,m)});u.exports=i},function(u,w,e){var n=e(44),i=typeof self=="object"&&self&&self.Object===Object&&self,s=n||i||Function("return this")();u.exports=s},function(u,w){u.exports=function(e){return e!=null&&typeof e=="object"}},function(u,w,e){w.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(n,i){var s,f=n.data,m=i.data,O=this.searchDirections,R=n.size.x;function E(U,W,ae,ie){var H,$,I;for(H=0;H<O.length;H++){if($=U.cy+O[U.dir][0],I=U.cx+O[U.dir][1],f[s=$*R+I]===W&&(m[s]===0||m[s]===ae))return m[s]=ae,U.cy=$,U.cx=I,!0;m[s]===0&&(m[s]=ie),U.dir=(U.dir+1)%8}return!1}function B(U,W,ae){return{dir:ae,x:U,y:W,next:null,prev:null}}return{trace:function(U,W,ae,ie){return E(U,W,ae,ie)},contourTracing:function(U,W,ae,ie,H){return function($,I,N,b,D){var T,P,q,V=null,j={cx:I,cy:$,dir:0};if(E(j,b,N,D)){T=V=B(I,$,j.dir),q=j.dir,(P=B(j.cx,j.cy,0)).prev=T,T.next=P,P.next=null,T=P;var Q=n.size.x*n.size.y,S=0;do j.dir=(j.dir+6)%8,E(j,b,N,D),q!==j.dir?(T.dir=j.dir,(P=B(j.cx,j.cy,0)).prev=T,T.next=P,P.next=null,T=P):(T.dir=q,T.x=j.cx,T.y=j.cy),q=j.dir;while((j.cx!==I||j.cy!==$)&&++S<Q);V.prev=T.prev,T.prev.next=V}return V}(U,W,ae,ie,H)}}}}},function(u,w,e){var n=e(27),i=e(86),s=e(87),f=n?n.toStringTag:void 0;u.exports=function(m){return m==null?m===void 0?"[object Undefined]":"[object Null]":f&&f in Object(m)?i(m):s(m)}},function(u,w,e){(function(n){var i,s,f,m,O,R,E,B,U,W,ae=e(5),ie=e(11),H=e(10),$=e(9),I=(e(16),e(64)),N=e(21),b=e(65);ae.a.setMatrixArrayType(Array);var D,T,P={ctx:{binary:null},dom:{binary:null}},q={x:0,y:0};function V(S){var K,ee,J,ne,A,M,L,te=U.size.x,Z=U.size.y,se=-U.size.x,pe=-U.size.y;for(K=0,ee=0;ee<S.length;ee++)K+=(ne=S[ee]).rad;for((K=(180*(K/=S.length)/Math.PI+90)%180-90)<0&&(K+=180),K=(180-K)*Math.PI/180,A=ae.b.copy(ae.b.create(),[Math.cos(K),Math.sin(K),-Math.sin(K),Math.cos(K)]),ee=0;ee<S.length;ee++)for(ne=S[ee],J=0;J<4;J++)ae.c.transformMat2(ne.box[J],ne.box[J],A);for(ee=0;ee<S.length;ee++)for(ne=S[ee],J=0;J<4;J++)ne.box[J][0]<te&&(te=ne.box[J][0]),ne.box[J][0]>se&&(se=ne.box[J][0]),ne.box[J][1]<Z&&(Z=ne.box[J][1]),ne.box[J][1]>pe&&(pe=ne.box[J][1]);for(M=[[te,Z],[se,Z],[se,pe],[te,pe]],L=i.halfSample?2:1,A=ae.b.invert(A,A),J=0;J<4;J++)ae.c.transformMat2(M[J],M[J],A);for(J=0;J<4;J++)ae.c.scale(M[J],M[J],L);return M}function j(S,K){U.subImageAsCopy(m,Object(H.h)(S,K)),T.skeletonize()}function Q(S,K,ee,J){var ne,A,M,L,te=[],Z=[],se=Math.ceil(W.x/3);if(S.length>=2){for(ne=0;ne<S.length;ne++)S[ne].m00>se&&te.push(S[ne]);if(te.length>=2){for(M=function(ye){var Oe=Object(H.b)(ye,.9),Me=Object(H.j)(Oe,1,function(De){return De.getPoints().length}),Ee=[],Re=[];if(Me.length===1){Ee=Me[0].item.getPoints();for(var Se=0;Se<Ee.length;Se++)Re.push(Ee[Se].point)}return Re}(te),A=0,ne=0;ne<M.length;ne++){var pe,me;A+=(pe=(me=M[ne])===null||me===void 0?void 0:me.rad)!==null&&pe!==void 0?pe:0}M.length>1&&M.length>=te.length/4*3&&M.length>S.length/4&&(A/=M.length,L={index:K[1]*q.x+K[0],pos:{x:ee,y:J},box:[ae.c.clone([ee,J]),ae.c.clone([ee+m.size.x,J]),ae.c.clone([ee+m.size.x,J+m.size.y]),ae.c.clone([ee,J+m.size.y])],moments:M,rad:A,vec:ae.c.clone([Math.cos(A),Math.sin(A)])},Z.push(L))}}return Z}w.a={init:function(S,K){i=K,D=S,function(){s=i.halfSample?new ie.a({x:D.size.x/2|0,y:D.size.y/2|0}):D,W=Object(H.a)(i.patchSize,s.size),q.x=s.size.x/W.x|0,q.y=s.size.y/W.y|0,U=new ie.a(s.size,void 0,Uint8Array,!1),O=new ie.a(W,void 0,Array,!0);var ee=new ArrayBuffer(65536);m=new ie.a(W,new Uint8Array(ee,0,W.x*W.y)),f=new ie.a(W,new Uint8Array(ee,W.x*W.y*3,W.x*W.y),void 0,!0),T=Object(b.a)(typeof window<"u"?window:typeof self<"u"?self:n,{size:W.x},ee),B=new ie.a({x:s.size.x/m.size.x|0,y:s.size.y/m.size.y|0},void 0,Array,!0),R=new ie.a(B.size,void 0,void 0,!0),E=new ie.a(B.size,void 0,Int32Array,!0)}(),function(){if(!i.useWorker&&typeof document<"u"){P.dom.binary=document.createElement("canvas"),P.dom.binary.className="binaryBuffer";var ee=!!i.willReadFrequently;console.warn("* initCanvas willReadFrequently",ee,i),P.ctx.binary=P.dom.binary.getContext("2d",{willReadFrequently:ee}),P.dom.binary.width=U.size.x,P.dom.binary.height=U.size.y}}()},locate:function(){i.halfSample&&Object(H.f)(D,s),Object(H.i)(s,U),U.zeroBorder();var S=function(){var J,ne,A,M,L,te,Z=[];for(J=0;J<q.x;J++)for(ne=0;ne<q.y;ne++)j(A=m.size.x*J,M=m.size.y*ne),f.zeroBorder(),$.a.init(O.data,0),te=I.a.create(f,O).rasterize(0),L=O.moments(te.count),Z=Z.concat(Q(L,[J,ne],A,M));return Z}();if(S.length<q.x*q.y*.05)return null;var K=function(J){var ne,A,M=0,L=0;function te(){var se;for(se=0;se<E.data.length;se++)if(E.data[se]===0&&R.data[se]===1)return se;return E.data.length}function Z(se){var pe,me,ye,Oe,Me,Ee=se%E.size.x,Re=se/E.size.x|0;if(se<E.data.length)for(ye=B.data[se],E.data[se]=M,Me=0;Me<N.a.searchDirections.length;Me++)me=Re+N.a.searchDirections[Me][0],pe=Ee+N.a.searchDirections[Me][1],Oe=me*E.size.x+pe,R.data[Oe]!==0?E.data[Oe]===0&&Math.abs(ae.c.dot(B.data[Oe].vec,ye.vec))>.95&&Z(Oe):E.data[Oe]=Number.MAX_VALUE}for($.a.init(R.data,0),$.a.init(E.data,0),$.a.init(B.data,null),ne=0;ne<J.length;ne++)A=J[ne],B.data[A.index]=A,R.data[A.index]=1;for(R.zeroBorder();(L=te())<E.data.length;)M++,Z(L);return M}(S);if(K<1)return null;var ee=function(J){var ne,A,M=[];for(ne=0;ne<J;ne++)M.push(0);for(A=E.data.length;A--;)E.data[A]>0&&M[E.data[A]-1]++;return(M=M.map(function(L,te){return{val:L,label:te+1}})).sort(function(L,te){return te.val-L.val}),M.filter(function(L){return L.val>=5})}(K);return ee.length===0?null:function(J,ne){var A,M,L,te,Z=[],se=[];for(A=0;A<J.length;A++){for(M=E.data.length,Z.length=0;M--;)E.data[M]===J[A].label&&(L=B.data[M],Z.push(L));(te=V(Z))&&se.push(te)}return se}(ee)},checkImageConstraints:function(S,K){var ee,J,ne=S.getWidth(),A=S.getHeight(),M=K.halfSample?.5:1;S.getConfig().area&&(J=Object(H.d)(ne,A,S.getConfig().area),S.setTopRight({x:J.sx,y:J.sy}),S.setCanvasSize({x:ne,y:A}),ne=J.sw,A=J.sh);var L={x:Math.floor(ne*M),y:Math.floor(A*M)};if(ee=Object(H.a)(K.patchSize,L),S.setWidth(Math.floor(Math.floor(L.x/ee.x)*(1/M)*ee.x)),S.setHeight(Math.floor(Math.floor(L.y/ee.y)*(1/M)*ee.y)),S.getWidth()%ee.x==0&&S.getHeight()%ee.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(ne," )and height (").concat(A,") must a multiple of ").concat(ee.x))}}}).call(this,e(45))},function(u,w,e){var n=e(75),i=e(76),s=e(77),f=e(78),m=e(79);function O(R){var E=-1,B=R==null?0:R.length;for(this.clear();++E<B;){var U=R[E];this.set(U[0],U[1])}}O.prototype.clear=n,O.prototype.delete=i,O.prototype.get=s,O.prototype.has=f,O.prototype.set=m,u.exports=O},function(u,w,e){var n=e(26);u.exports=function(i,s){for(var f=i.length;f--;)if(n(i[f][0],s))return f;return-1}},function(u,w){u.exports=function(e,n){return e===n||e!=e&&n!=n}},function(u,w,e){var n=e(19).Symbol;u.exports=n},function(u,w,e){var n=e(34)(Object,"create");u.exports=n},function(u,w,e){var n=e(100);u.exports=function(i,s){var f=i.__data__;return n(s)?f[typeof s=="string"?"string":"hash"]:f.map}},function(u,w,e){var n=e(115),i=e(20),s=Object.prototype,f=s.hasOwnProperty,m=s.propertyIsEnumerable,O=n(function(){return arguments}())?n:function(R){return i(R)&&f.call(R,"callee")&&!m.call(R,"callee")};u.exports=O},function(u,w){var e=/^(?:0|[1-9]\d*)$/;u.exports=function(n,i){var s=typeof n;return!!(i=i??9007199254740991)&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}},function(u,w,e){var n=e(15),i=e(147),s=e(148),f=e(151);u.exports=function(m,O){return n(m)?m:i(m,O)?[m]:s(f(m))}},function(u,w,e){var n=e(141),i=e(142),s=e(59),f=e(143);u.exports=function(m){return n(m)||i(m)||s(m)||f()},u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w,e){var n=e(85),i=e(91);u.exports=function(s,f){var m=i(s,f);return n(m)?m:void 0}},function(u,w,e){var n=e(22),i=e(14);u.exports=function(s){if(!i(s))return!1;var f=n(s);return f=="[object Function]"||f=="[object GeneratorFunction]"||f=="[object AsyncFunction]"||f=="[object Proxy]"}},function(u,w,e){var n=e(48);u.exports=function(i,s,f){s=="__proto__"&&n?n(i,s,{configurable:!0,enumerable:!0,value:f,writable:!0}):i[s]=f}},function(u,w){u.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(u,w,e){var n=e(35),i=e(39);u.exports=function(s){return s!=null&&i(s.length)&&!n(s)}},function(u,w){u.exports=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991}},function(u,w){function e(n,i){return u.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,f){return s.__proto__=f,s},u.exports.__esModule=!0,u.exports.default=u.exports,e(n,i)}u.exports=e,u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w,e){var n=e(22),i=e(20);u.exports=function(s){return typeof s=="symbol"||i(s)&&n(s)=="[object Symbol]"}},function(u,w,e){var n=e(41);u.exports=function(i){if(typeof i=="string"||n(i))return i;var s=i+"";return s=="0"&&1/i==-1/0?"-0":s}},function(u,w,e){var n=e(34)(e(19),"Map");u.exports=n},function(u,w,e){(function(n){var i=typeof n=="object"&&n&&n.Object===Object&&n;u.exports=i}).call(this,e(45))},function(u,w){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch{typeof window=="object"&&(e=window)}u.exports=e},function(u,w,e){var n=e(92),i=e(99),s=e(101),f=e(102),m=e(103);function O(R){var E=-1,B=R==null?0:R.length;for(this.clear();++E<B;){var U=R[E];this.set(U[0],U[1])}}O.prototype.clear=n,O.prototype.delete=i,O.prototype.get=s,O.prototype.has=f,O.prototype.set=m,u.exports=O},function(u,w,e){var n=e(36),i=e(26);u.exports=function(s,f,m){(m!==void 0&&!i(s[f],m)||m===void 0&&!(f in s))&&n(s,f,m)}},function(u,w,e){var n=e(34),i=function(){try{var s=n(Object,"defineProperty");return s({},"",{}),s}catch{}}();u.exports=i},function(u,w,e){var n=e(114)(Object.getPrototypeOf,Object);u.exports=n},function(u,w){var e=Object.prototype;u.exports=function(n){var i=n&&n.constructor;return n===(typeof i=="function"&&i.prototype||e)}},function(u,w,e){(function(n){var i=e(19),s=e(117),f=w&&!w.nodeType&&w,m=f&&typeof n=="object"&&n&&!n.nodeType&&n,O=m&&m.exports===f?i.Buffer:void 0,R=(O?O.isBuffer:void 0)||s;n.exports=R}).call(this,e(37)(u))},function(u,w,e){var n=e(119),i=e(120),s=e(121),f=s&&s.isTypedArray,m=f?i(f):n;u.exports=m},function(u,w){u.exports=function(e,n){if((n!=="constructor"||typeof e[n]!="function")&&n!="__proto__")return e[n]}},function(u,w,e){var n=e(36),i=e(26),s=Object.prototype.hasOwnProperty;u.exports=function(f,m,O){var R=f[m];s.call(f,m)&&i(R,O)&&(O!==void 0||m in f)||n(f,m,O)}},function(u,w,e){var n=e(124),i=e(126),s=e(38);u.exports=function(f){return s(f)?n(f,!0):i(f)}},function(u,w){u.exports=function(e){return e}},function(u,w,e){var n=e(130),i=Math.max;u.exports=function(s,f,m){return f=i(f===void 0?s.length-1:f,0),function(){for(var O=arguments,R=-1,E=i(O.length-f,0),B=Array(E);++R<E;)B[R]=O[f+R];R=-1;for(var U=Array(f+1);++R<f;)U[R]=O[R];return U[f]=m(B),n(s,this,U)}}},function(u,w,e){var n=e(131),i=e(133)(n);u.exports=i},function(u,w,e){var n=e(60);u.exports=function(i,s){if(i){if(typeof i=="string")return n(i,s);var f=Object.prototype.toString.call(i).slice(8,-1);return f==="Object"&&i.constructor&&(f=i.constructor.name),f==="Map"||f==="Set"?Array.from(i):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?n(i,s):void 0}},u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w){u.exports=function(e,n){(n==null||n>e.length)&&(n=e.length);for(var i=0,s=new Array(n);i<n;i++)s[i]=e[i];return s},u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w,e){var n=e(136),i=e(137),s=e(59),f=e(138);u.exports=function(m,O){return n(m)||i(m,O)||s(m,O)||f()},u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w,e){var n=e(144),i=e(158)(function(s,f){return s==null?{}:n(s,f)});u.exports=i},function(u,w,e){var n=e(2),i=e(40),s=e(163),f=e(164);function m(O){var R=typeof Map=="function"?new Map:void 0;return u.exports=m=function(E){if(E===null||!s(E))return E;if(typeof E!="function")throw new TypeError("Super expression must either be null or a function");if(R!==void 0){if(R.has(E))return R.get(E);R.set(E,B)}function B(){return f(E,arguments,n(this).constructor)}return B.prototype=Object.create(E.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),i(B,E)},u.exports.__esModule=!0,u.exports.default=u.exports,m(O)}u.exports=m,u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w,e){var n=e(21),i={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(s,f){var m=s.data,O=f.data,R=s.size.x,E=s.size.y,B=n.a.create(s,f);return{rasterize:function(U){var W,ae,ie,H,$,I,N,b,D,T,P,q,V=[],j=0;for(q=0;q<400;q++)V[q]=0;for(V[0]=m[0],D=null,I=1;I<E-1;I++)for(H=0,ae=V[0],$=1;$<R-1;$++)if(O[P=I*R+$]===0)if((W=m[P])!==ae){if(H===0)V[ie=j+1]=W,ae=W,(N=B.contourTracing(I,$,ie,W,i.DIR.OUTSIDE_EDGE))!==null&&(j++,H=ie,(b=i.createContour2D()).dir=i.CONTOUR_DIR.CW_DIR,b.index=H,b.firstVertex=N,b.nextpeer=D,b.insideContours=null,D!==null&&(D.prevpeer=b),D=b);else if((N=B.contourTracing(I,$,i.DIR.INSIDE_EDGE,W,H))!==null){for((b=i.createContour2D()).firstVertex=N,b.insideContours=null,b.dir=U===0?i.CONTOUR_DIR.CCW_DIR:i.CONTOUR_DIR.CW_DIR,b.index=U,T=D;T!==null&&T.index!==H;)T=T.nextpeer;T!==null&&(b.nextpeer=T.insideContours,T.insideContours!==null&&(T.insideContours.prevpeer=b),T.insideContours=b)}}else O[P]=H;else O[P]===i.DIR.OUTSIDE_EDGE||O[P]===i.DIR.INSIDE_EDGE?(H=0,ae=O[P]===i.DIR.INSIDE_EDGE?m[P]:V[0]):ae=V[H=O[P]];for(T=D;T!==null;)T.index=U,T=T.nextpeer;return{cc:D,count:j}},debug:{drawContour:function(U,W){var ae,ie,H,$=U.getContext("2d"),I=W;for($.strokeStyle="red",$.fillStyle="red",$.lineWidth=1,ae=I!==null?I.insideContours:null;I!==null;){switch(ae!==null?(ie=ae,ae=ae.nextpeer):(ie=I,ae=(I=I.nextpeer)!==null?I.insideContours:null),ie.dir){case i.CONTOUR_DIR.CW_DIR:$.strokeStyle="red";break;case i.CONTOUR_DIR.CCW_DIR:$.strokeStyle="blue";break;case i.CONTOUR_DIR.UNKNOWN_DIR:$.strokeStyle="green"}H=ie.firstVertex,$.beginPath(),$.moveTo(H.x,H.y);do H=H.next,$.lineTo(H.x,H.y);while(H!==ie.firstVertex);$.stroke()}}}}}};w.a=i},function(u,w,e){/* @preserve ASM BEGIN *//* @preserve ASM END */w.a=function(n,i,s){var f=new n.Uint8Array(s),m=i.size|0,O=n.Math.imul;function R(I,N){I|=0,N|=0;var b=0,D=0,T=0,P=0,q=0,V=0,j=0,Q=0;for(b=1;(b|0)<(m-1|0);b=b+1|0)for(Q=Q+m|0,D=1;(D|0)<(m-1|0);D=D+1|0)P=Q-m|0,q=Q+m|0,V=D-1|0,j=D+1|0,T=(f[I+P+V|0]|0)+(f[I+P+j|0]|0)+(f[I+Q+D|0]|0)+(f[I+q+V|0]|0)+(f[I+q+j|0]|0)|0,(T|0)==5?f[N+Q+D|0]=1:f[N+Q+D|0]=0}function E(I,N,b){I|=0,N|=0,b|=0;var D=0;for(D=O(m,m)|0;(D|0)>0;)D=D-1|0,f[b+D|0]=(f[I+D|0]|0)-(f[N+D|0]|0)|0}function B(I,N,b){I|=0,N|=0,b|=0;var D=0;for(D=O(m,m)|0;(D|0)>0;)D=D-1|0,f[b+D|0]=f[I+D|0]|0|(f[N+D|0]|0)|0}function U(I){I|=0;var N=0,b=0;for(b=O(m,m)|0;(b|0)>0;)b=b-1|0,N=(N|0)+(f[I+b|0]|0)|0;return N|0}function W(I,N){I|=0,N|=0;var b=0;for(b=O(m,m)|0;(b|0)>0;)b=b-1|0,f[I+b|0]=N}function ae(I,N){I|=0,N|=0;var b=0,D=0,T=0,P=0,q=0,V=0,j=0,Q=0;for(b=1;(b|0)<(m-1|0);b=b+1|0)for(Q=Q+m|0,D=1;(D|0)<(m-1|0);D=D+1|0)P=Q-m|0,q=Q+m|0,V=D-1|0,j=D+1|0,T=(f[I+P+V|0]|0)+(f[I+P+j|0]|0)+(f[I+Q+D|0]|0)+(f[I+q+V|0]|0)+(f[I+q+j|0]|0)|0,(T|0)>0?f[N+Q+D|0]=1:f[N+Q+D|0]=0}function ie(I,N){I|=0,N|=0;var b=0;for(b=O(m,m)|0;(b|0)>0;)b=b-1|0,f[N+b|0]=f[I+b|0]|0}function H(I){I|=0;var N=0,b=0;for(N=0;(N|0)<(m-1|0);N=N+1|0)f[I+N|0]=0,f[I+b|0]=0,b=b+m-1|0,f[I+b|0]=0,b=b+1|0;for(N=0;(N|0)<(m|0);N=N+1|0)f[I+b|0]=0,b=b+1|0}function $(){var I=0,N=0,b=0,D=0,T=0,P=0;N=O(m,m)|0,b=N+N|0,D=b+N|0,W(D,0),H(I);do R(I,N),ae(N,b),E(I,b,b),B(D,b,D),ie(N,I),T=U(I)|0,P=(T|0)==0|0;while(!P)}return{skeletonize:$}}},,,,,,,function(u,w,e){u.exports=e(166)},function(u,w,e){var n=e(74),i=e(47),s=e(104),f=e(106),m=e(14),O=e(55),R=e(53);u.exports=function E(B,U,W,ae,ie){B!==U&&s(U,function(H,$){if(ie||(ie=new n),m(H))f(B,U,$,W,E,ae,ie);else{var I=ae?ae(R(B,$),H,$+"",B,U,ie):void 0;I===void 0&&(I=H),i(B,$,I)}},O)}},function(u,w,e){var n=e(24),i=e(80),s=e(81),f=e(82),m=e(83),O=e(84);function R(E){var B=this.__data__=new n(E);this.size=B.size}R.prototype.clear=i,R.prototype.delete=s,R.prototype.get=f,R.prototype.has=m,R.prototype.set=O,u.exports=R},function(u,w){u.exports=function(){this.__data__=[],this.size=0}},function(u,w,e){var n=e(25),i=Array.prototype.splice;u.exports=function(s){var f=this.__data__,m=n(f,s);return!(m<0)&&(m==f.length-1?f.pop():i.call(f,m,1),--this.size,!0)}},function(u,w,e){var n=e(25);u.exports=function(i){var s=this.__data__,f=n(s,i);return f<0?void 0:s[f][1]}},function(u,w,e){var n=e(25);u.exports=function(i){return n(this.__data__,i)>-1}},function(u,w,e){var n=e(25);u.exports=function(i,s){var f=this.__data__,m=n(f,i);return m<0?(++this.size,f.push([i,s])):f[m][1]=s,this}},function(u,w,e){var n=e(24);u.exports=function(){this.__data__=new n,this.size=0}},function(u,w){u.exports=function(e){var n=this.__data__,i=n.delete(e);return this.size=n.size,i}},function(u,w){u.exports=function(e){return this.__data__.get(e)}},function(u,w){u.exports=function(e){return this.__data__.has(e)}},function(u,w,e){var n=e(24),i=e(43),s=e(46);u.exports=function(f,m){var O=this.__data__;if(O instanceof n){var R=O.__data__;if(!i||R.length<199)return R.push([f,m]),this.size=++O.size,this;O=this.__data__=new s(R)}return O.set(f,m),this.size=O.size,this}},function(u,w,e){var n=e(35),i=e(88),s=e(14),f=e(90),m=/^\[object .+?Constructor\]$/,O=Function.prototype,R=Object.prototype,E=O.toString,B=R.hasOwnProperty,U=RegExp("^"+E.call(B).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");u.exports=function(W){return!(!s(W)||i(W))&&(n(W)?U:m).test(f(W))}},function(u,w,e){var n=e(27),i=Object.prototype,s=i.hasOwnProperty,f=i.toString,m=n?n.toStringTag:void 0;u.exports=function(O){var R=s.call(O,m),E=O[m];try{O[m]=void 0;var B=!0}catch{}var U=f.call(O);return B&&(R?O[m]=E:delete O[m]),U}},function(u,w){var e=Object.prototype.toString;u.exports=function(n){return e.call(n)}},function(u,w,e){var n,i=e(89),s=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";u.exports=function(f){return!!s&&s in f}},function(u,w,e){var n=e(19)["__core-js_shared__"];u.exports=n},function(u,w){var e=Function.prototype.toString;u.exports=function(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}},function(u,w){u.exports=function(e,n){return e==null?void 0:e[n]}},function(u,w,e){var n=e(93),i=e(24),s=e(43);u.exports=function(){this.size=0,this.__data__={hash:new n,map:new(s||i),string:new n}}},function(u,w,e){var n=e(94),i=e(95),s=e(96),f=e(97),m=e(98);function O(R){var E=-1,B=R==null?0:R.length;for(this.clear();++E<B;){var U=R[E];this.set(U[0],U[1])}}O.prototype.clear=n,O.prototype.delete=i,O.prototype.get=s,O.prototype.has=f,O.prototype.set=m,u.exports=O},function(u,w,e){var n=e(28);u.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(u,w){u.exports=function(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}},function(u,w,e){var n=e(28),i=Object.prototype.hasOwnProperty;u.exports=function(s){var f=this.__data__;if(n){var m=f[s];return m==="__lodash_hash_undefined__"?void 0:m}return i.call(f,s)?f[s]:void 0}},function(u,w,e){var n=e(28),i=Object.prototype.hasOwnProperty;u.exports=function(s){var f=this.__data__;return n?f[s]!==void 0:i.call(f,s)}},function(u,w,e){var n=e(28);u.exports=function(i,s){var f=this.__data__;return this.size+=this.has(i)?0:1,f[i]=n&&s===void 0?"__lodash_hash_undefined__":s,this}},function(u,w,e){var n=e(29);u.exports=function(i){var s=n(this,i).delete(i);return this.size-=s?1:0,s}},function(u,w){u.exports=function(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}},function(u,w,e){var n=e(29);u.exports=function(i){return n(this,i).get(i)}},function(u,w,e){var n=e(29);u.exports=function(i){return n(this,i).has(i)}},function(u,w,e){var n=e(29);u.exports=function(i,s){var f=n(this,i),m=f.size;return f.set(i,s),this.size+=f.size==m?0:1,this}},function(u,w,e){var n=e(105)();u.exports=n},function(u,w){u.exports=function(e){return function(n,i,s){for(var f=-1,m=Object(n),O=s(n),R=O.length;R--;){var E=O[e?R:++f];if(i(m[E],E,m)===!1)break}return n}}},function(u,w,e){var n=e(47),i=e(107),s=e(108),f=e(111),m=e(112),O=e(30),R=e(15),E=e(116),B=e(51),U=e(35),W=e(14),ae=e(118),ie=e(52),H=e(53),$=e(122);u.exports=function(I,N,b,D,T,P,q){var V=H(I,b),j=H(N,b),Q=q.get(j);if(Q)n(I,b,Q);else{var S=P?P(V,j,b+"",I,N,q):void 0,K=S===void 0;if(K){var ee=R(j),J=!ee&&B(j),ne=!ee&&!J&&ie(j);S=j,ee||J||ne?R(V)?S=V:E(V)?S=f(V):J?(K=!1,S=i(j,!0)):ne?(K=!1,S=s(j,!0)):S=[]:ae(j)||O(j)?(S=V,O(V)?S=$(V):W(V)&&!U(V)||(S=m(j))):K=!1}K&&(q.set(j,S),T(S,j,D,P,q),q.delete(j)),n(I,b,S)}}},function(u,w,e){(function(n){var i=e(19),s=w&&!w.nodeType&&w,f=s&&typeof n=="object"&&n&&!n.nodeType&&n,m=f&&f.exports===s?i.Buffer:void 0,O=m?m.allocUnsafe:void 0;n.exports=function(R,E){if(E)return R.slice();var B=R.length,U=O?O(B):new R.constructor(B);return R.copy(U),U}}).call(this,e(37)(u))},function(u,w,e){var n=e(109);u.exports=function(i,s){var f=s?n(i.buffer):i.buffer;return new i.constructor(f,i.byteOffset,i.length)}},function(u,w,e){var n=e(110);u.exports=function(i){var s=new i.constructor(i.byteLength);return new n(s).set(new n(i)),s}},function(u,w,e){var n=e(19).Uint8Array;u.exports=n},function(u,w){u.exports=function(e,n){var i=-1,s=e.length;for(n||(n=Array(s));++i<s;)n[i]=e[i];return n}},function(u,w,e){var n=e(113),i=e(49),s=e(50);u.exports=function(f){return typeof f.constructor!="function"||s(f)?{}:n(i(f))}},function(u,w,e){var n=e(14),i=Object.create,s=function(){function f(){}return function(m){if(!n(m))return{};if(i)return i(m);f.prototype=m;var O=new f;return f.prototype=void 0,O}}();u.exports=s},function(u,w){u.exports=function(e,n){return function(i){return e(n(i))}}},function(u,w,e){var n=e(22),i=e(20);u.exports=function(s){return i(s)&&n(s)=="[object Arguments]"}},function(u,w,e){var n=e(38),i=e(20);u.exports=function(s){return i(s)&&n(s)}},function(u,w){u.exports=function(){return!1}},function(u,w,e){var n=e(22),i=e(49),s=e(20),f=Function.prototype,m=Object.prototype,O=f.toString,R=m.hasOwnProperty,E=O.call(Object);u.exports=function(B){if(!s(B)||n(B)!="[object Object]")return!1;var U=i(B);if(U===null)return!0;var W=R.call(U,"constructor")&&U.constructor;return typeof W=="function"&&W instanceof W&&O.call(W)==E}},function(u,w,e){var n=e(22),i=e(39),s=e(20),f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Arguments]"]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f["[object Map]"]=f["[object Number]"]=f["[object Object]"]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object WeakMap]"]=!1,u.exports=function(m){return s(m)&&i(m.length)&&!!f[n(m)]}},function(u,w){u.exports=function(e){return function(n){return e(n)}}},function(u,w,e){(function(n){var i=e(44),s=w&&!w.nodeType&&w,f=s&&typeof n=="object"&&n&&!n.nodeType&&n,m=f&&f.exports===s&&i.process,O=function(){try{var R=f&&f.require&&f.require("util").types;return R||m&&m.binding&&m.binding("util")}catch{}}();n.exports=O}).call(this,e(37)(u))},function(u,w,e){var n=e(123),i=e(55);u.exports=function(s){return n(s,i(s))}},function(u,w,e){var n=e(54),i=e(36);u.exports=function(s,f,m,O){var R=!m;m||(m={});for(var E=-1,B=f.length;++E<B;){var U=f[E],W=O?O(m[U],s[U],U,m,s):void 0;W===void 0&&(W=s[U]),R?i(m,U,W):n(m,U,W)}return m}},function(u,w,e){var n=e(125),i=e(30),s=e(15),f=e(51),m=e(31),O=e(52),R=Object.prototype.hasOwnProperty;u.exports=function(E,B){var U=s(E),W=!U&&i(E),ae=!U&&!W&&f(E),ie=!U&&!W&&!ae&&O(E),H=U||W||ae||ie,$=H?n(E.length,String):[],I=$.length;for(var N in E)!B&&!R.call(E,N)||H&&(N=="length"||ae&&(N=="offset"||N=="parent")||ie&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||m(N,I))||$.push(N);return $}},function(u,w){u.exports=function(e,n){for(var i=-1,s=Array(e);++i<e;)s[i]=n(i);return s}},function(u,w,e){var n=e(14),i=e(50),s=e(127),f=Object.prototype.hasOwnProperty;u.exports=function(m){if(!n(m))return s(m);var O=i(m),R=[];for(var E in m)(E!="constructor"||!O&&f.call(m,E))&&R.push(E);return R}},function(u,w){u.exports=function(e){var n=[];if(e!=null)for(var i in Object(e))n.push(i);return n}},function(u,w,e){var n=e(129),i=e(134);u.exports=function(s){return n(function(f,m){var O=-1,R=m.length,E=R>1?m[R-1]:void 0,B=R>2?m[2]:void 0;for(E=s.length>3&&typeof E=="function"?(R--,E):void 0,B&&i(m[0],m[1],B)&&(E=R<3?void 0:E,R=1),f=Object(f);++O<R;){var U=m[O];U&&s(f,U,O,E)}return f})}},function(u,w,e){var n=e(56),i=e(57),s=e(58);u.exports=function(f,m){return s(i(f,m,n),f+"")}},function(u,w){u.exports=function(e,n,i){switch(i.length){case 0:return e.call(n);case 1:return e.call(n,i[0]);case 2:return e.call(n,i[0],i[1]);case 3:return e.call(n,i[0],i[1],i[2])}return e.apply(n,i)}},function(u,w,e){var n=e(132),i=e(48),s=e(56),f=i?function(m,O){return i(m,"toString",{configurable:!0,enumerable:!1,value:n(O),writable:!0})}:s;u.exports=f},function(u,w){u.exports=function(e){return function(){return e}}},function(u,w){var e=Date.now;u.exports=function(n){var i=0,s=0;return function(){var f=e(),m=16-(f-s);if(s=f,m>0){if(++i>=800)return arguments[0]}else i=0;return n.apply(void 0,arguments)}}},function(u,w,e){var n=e(26),i=e(38),s=e(31),f=e(14);u.exports=function(m,O,R){if(!f(R))return!1;var E=typeof O;return!!(E=="number"?i(R)&&s(O,R.length):E=="string"&&O in R)&&n(R[O],m)}},function(u,w){typeof window<"u"&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)})),typeof Math.imul!="function"&&(Math.imul=function(e,n){var i=65535&e,s=65535&n;return i*s+((e>>>16&65535)*s+i*(n>>>16&65535)<<16>>>0)|0}),typeof Object.assign!="function"&&(Object.assign=function(e){if(e===null)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var s=arguments[i];if(s!==null)for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(n[f]=s[f])}return n})},function(u,w){u.exports=function(e){if(Array.isArray(e))return e},u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w){u.exports=function(e,n){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var s,f,m=[],O=!0,R=!1;try{for(i=i.call(e);!(O=(s=i.next()).done)&&(m.push(s.value),!n||m.length!==n);O=!0);}catch(E){R=!0,f=E}finally{try{O||i.return==null||i.return()}finally{if(R)throw f}}return m}},u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w){u.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w,e){var n=e(17).default;function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u.exports=i=function(){return s},u.exports.__esModule=!0,u.exports.default=u.exports;var s={},f=Object.prototype,m=f.hasOwnProperty,O=Object.defineProperty||function(A,M,L){A[M]=L.value},R=typeof Symbol=="function"?Symbol:{},E=R.iterator||"@@iterator",B=R.asyncIterator||"@@asyncIterator",U=R.toStringTag||"@@toStringTag";function W(A,M,L){return Object.defineProperty(A,M,{value:L,enumerable:!0,configurable:!0,writable:!0}),A[M]}try{W({},"")}catch{W=function(M,L,te){return M[L]=te}}function ae(A,M,L,te){var Z=M&&M.prototype instanceof $?M:$,se=Object.create(Z.prototype),pe=new ee(te||[]);return O(se,"_invoke",{value:j(A,L,pe)}),se}function ie(A,M,L){try{return{type:"normal",arg:A.call(M,L)}}catch(te){return{type:"throw",arg:te}}}s.wrap=ae;var H={};function $(){}function I(){}function N(){}var b={};W(b,E,function(){return this});var D=Object.getPrototypeOf,T=D&&D(D(J([])));T&&T!==f&&m.call(T,E)&&(b=T);var P=N.prototype=$.prototype=Object.create(b);function q(A){["next","throw","return"].forEach(function(M){W(A,M,function(L){return this._invoke(M,L)})})}function V(A,M){var L;O(this,"_invoke",{value:function(te,Z){function se(){return new M(function(pe,me){(function ye(Oe,Me,Ee,Re){var Se=ie(A[Oe],A,Me);if(Se.type!=="throw"){var De=Se.arg,ze=De.value;return ze&&n(ze)=="object"&&m.call(ze,"__await")?M.resolve(ze.__await).then(function(Pe){ye("next",Pe,Ee,Re)},function(Pe){ye("throw",Pe,Ee,Re)}):M.resolve(ze).then(function(Pe){De.value=Pe,Ee(De)},function(Pe){return ye("throw",Pe,Ee,Re)})}Re(Se.arg)})(te,Z,pe,me)})}return L=L?L.then(se,se):se()}})}function j(A,M,L){var te="suspendedStart";return function(Z,se){if(te==="executing")throw new Error("Generator is already running");if(te==="completed"){if(Z==="throw")throw se;return ne()}for(L.method=Z,L.arg=se;;){var pe=L.delegate;if(pe){var me=Q(pe,L);if(me){if(me===H)continue;return me}}if(L.method==="next")L.sent=L._sent=L.arg;else if(L.method==="throw"){if(te==="suspendedStart")throw te="completed",L.arg;L.dispatchException(L.arg)}else L.method==="return"&&L.abrupt("return",L.arg);te="executing";var ye=ie(A,M,L);if(ye.type==="normal"){if(te=L.done?"completed":"suspendedYield",ye.arg===H)continue;return{value:ye.arg,done:L.done}}ye.type==="throw"&&(te="completed",L.method="throw",L.arg=ye.arg)}}}function Q(A,M){var L=A.iterator[M.method];if(L===void 0){if(M.delegate=null,M.method==="throw"){if(A.iterator.return&&(M.method="return",M.arg=void 0,Q(A,M),M.method==="throw"))return H;M.method="throw",M.arg=new TypeError("The iterator does not provide a 'throw' method")}return H}var te=ie(L,A.iterator,M.arg);if(te.type==="throw")return M.method="throw",M.arg=te.arg,M.delegate=null,H;var Z=te.arg;return Z?Z.done?(M[A.resultName]=Z.value,M.next=A.nextLoc,M.method!=="return"&&(M.method="next",M.arg=void 0),M.delegate=null,H):Z:(M.method="throw",M.arg=new TypeError("iterator result is not an object"),M.delegate=null,H)}function S(A){var M={tryLoc:A[0]};1 in A&&(M.catchLoc=A[1]),2 in A&&(M.finallyLoc=A[2],M.afterLoc=A[3]),this.tryEntries.push(M)}function K(A){var M=A.completion||{};M.type="normal",delete M.arg,A.completion=M}function ee(A){this.tryEntries=[{tryLoc:"root"}],A.forEach(S,this),this.reset(!0)}function J(A){if(A){var M=A[E];if(M)return M.call(A);if(typeof A.next=="function")return A;if(!isNaN(A.length)){var L=-1,te=function Z(){for(;++L<A.length;)if(m.call(A,L))return Z.value=A[L],Z.done=!1,Z;return Z.value=void 0,Z.done=!0,Z};return te.next=te}}return{next:ne}}function ne(){return{value:void 0,done:!0}}return I.prototype=N,O(P,"constructor",{value:N,configurable:!0}),O(N,"constructor",{value:I,configurable:!0}),I.displayName=W(N,U,"GeneratorFunction"),s.isGeneratorFunction=function(A){var M=typeof A=="function"&&A.constructor;return!!M&&(M===I||(M.displayName||M.name)==="GeneratorFunction")},s.mark=function(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,N):(A.__proto__=N,W(A,U,"GeneratorFunction")),A.prototype=Object.create(P),A},s.awrap=function(A){return{__await:A}},q(V.prototype),W(V.prototype,B,function(){return this}),s.AsyncIterator=V,s.async=function(A,M,L,te,Z){Z===void 0&&(Z=Promise);var se=new V(ae(A,M,L,te),Z);return s.isGeneratorFunction(M)?se:se.next().then(function(pe){return pe.done?pe.value:se.next()})},q(P),W(P,U,"Generator"),W(P,E,function(){return this}),W(P,"toString",function(){return"[object Generator]"}),s.keys=function(A){var M=Object(A),L=[];for(var te in M)L.push(te);return L.reverse(),function Z(){for(;L.length;){var se=L.pop();if(se in M)return Z.value=se,Z.done=!1,Z}return Z.done=!0,Z}},s.values=J,ee.prototype={constructor:ee,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(K),!A)for(var M in this)M.charAt(0)==="t"&&m.call(this,M)&&!isNaN(+M.slice(1))&&(this[M]=void 0)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if(A.type==="throw")throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var M=this;function L(ye,Oe){return se.type="throw",se.arg=A,M.next=ye,Oe&&(M.method="next",M.arg=void 0),!!Oe}for(var te=this.tryEntries.length-1;te>=0;--te){var Z=this.tryEntries[te],se=Z.completion;if(Z.tryLoc==="root")return L("end");if(Z.tryLoc<=this.prev){var pe=m.call(Z,"catchLoc"),me=m.call(Z,"finallyLoc");if(pe&&me){if(this.prev<Z.catchLoc)return L(Z.catchLoc,!0);if(this.prev<Z.finallyLoc)return L(Z.finallyLoc)}else if(pe){if(this.prev<Z.catchLoc)return L(Z.catchLoc,!0)}else{if(!me)throw new Error("try statement without catch or finally");if(this.prev<Z.finallyLoc)return L(Z.finallyLoc)}}}},abrupt:function(A,M){for(var L=this.tryEntries.length-1;L>=0;--L){var te=this.tryEntries[L];if(te.tryLoc<=this.prev&&m.call(te,"finallyLoc")&&this.prev<te.finallyLoc){var Z=te;break}}Z&&(A==="break"||A==="continue")&&Z.tryLoc<=M&&M<=Z.finallyLoc&&(Z=null);var se=Z?Z.completion:{};return se.type=A,se.arg=M,Z?(this.method="next",this.next=Z.finallyLoc,H):this.complete(se)},complete:function(A,M){if(A.type==="throw")throw A.arg;return A.type==="break"||A.type==="continue"?this.next=A.arg:A.type==="return"?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):A.type==="normal"&&M&&(this.next=M),H},finish:function(A){for(var M=this.tryEntries.length-1;M>=0;--M){var L=this.tryEntries[M];if(L.finallyLoc===A)return this.complete(L.completion,L.afterLoc),K(L),H}},catch:function(A){for(var M=this.tryEntries.length-1;M>=0;--M){var L=this.tryEntries[M];if(L.tryLoc===A){var te=L.completion;if(te.type==="throw"){var Z=te.arg;K(L)}return Z}}throw new Error("illegal catch attempt")},delegateYield:function(A,M,L){return this.delegate={iterator:J(A),resultName:M,nextLoc:L},this.method==="next"&&(this.arg=void 0),H}},s}u.exports=i,u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w,e){var n=e(2);u.exports=function(i,s){for(;!Object.prototype.hasOwnProperty.call(i,s)&&(i=n(i))!==null;);return i},u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w,e){var n=e(60);u.exports=function(i){if(Array.isArray(i))return n(i)},u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w){u.exports=function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)},u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w){u.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w,e){var n=e(145),i=e(155);u.exports=function(s,f){return n(s,f,function(m,O){return i(s,O)})}},function(u,w,e){var n=e(146),i=e(154),s=e(32);u.exports=function(f,m,O){for(var R=-1,E=m.length,B={};++R<E;){var U=m[R],W=n(f,U);O(W,U)&&i(B,s(U,f),W)}return B}},function(u,w,e){var n=e(32),i=e(42);u.exports=function(s,f){for(var m=0,O=(f=n(f,s)).length;s!=null&&m<O;)s=s[i(f[m++])];return m&&m==O?s:void 0}},function(u,w,e){var n=e(15),i=e(41),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/;u.exports=function(m,O){if(n(m))return!1;var R=typeof m;return!(R!="number"&&R!="symbol"&&R!="boolean"&&m!=null&&!i(m))||f.test(m)||!s.test(m)||O!=null&&m in Object(O)}},function(u,w,e){var n=e(149),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,f=n(function(m){var O=[];return m.charCodeAt(0)===46&&O.push(""),m.replace(i,function(R,E,B,U){O.push(B?U.replace(s,"$1"):E||R)}),O});u.exports=f},function(u,w,e){var n=e(150);u.exports=function(i){var s=n(i,function(m){return f.size===500&&f.clear(),m}),f=s.cache;return s}},function(u,w,e){var n=e(46);function i(s,f){if(typeof s!="function"||f!=null&&typeof f!="function")throw new TypeError("Expected a function");var m=function(){var O=arguments,R=f?f.apply(this,O):O[0],E=m.cache;if(E.has(R))return E.get(R);var B=s.apply(this,O);return m.cache=E.set(R,B)||E,B};return m.cache=new(i.Cache||n),m}i.Cache=n,u.exports=i},function(u,w,e){var n=e(152);u.exports=function(i){return i==null?"":n(i)}},function(u,w,e){var n=e(27),i=e(153),s=e(15),f=e(41),m=n?n.prototype:void 0,O=m?m.toString:void 0;u.exports=function R(E){if(typeof E=="string")return E;if(s(E))return i(E,R)+"";if(f(E))return O?O.call(E):"";var B=E+"";return B=="0"&&1/E==-1/0?"-0":B}},function(u,w){u.exports=function(e,n){for(var i=-1,s=e==null?0:e.length,f=Array(s);++i<s;)f[i]=n(e[i],i,e);return f}},function(u,w,e){var n=e(54),i=e(32),s=e(31),f=e(14),m=e(42);u.exports=function(O,R,E,B){if(!f(O))return O;for(var U=-1,W=(R=i(R,O)).length,ae=W-1,ie=O;ie!=null&&++U<W;){var H=m(R[U]),$=E;if(H==="__proto__"||H==="constructor"||H==="prototype")return O;if(U!=ae){var I=ie[H];($=B?B(I,H,ie):void 0)===void 0&&($=f(I)?I:s(R[U+1])?[]:{})}n(ie,H,$),ie=ie[H]}return O}},function(u,w,e){var n=e(156),i=e(157);u.exports=function(s,f){return s!=null&&i(s,f,n)}},function(u,w){u.exports=function(e,n){return e!=null&&n in Object(e)}},function(u,w,e){var n=e(32),i=e(30),s=e(15),f=e(31),m=e(39),O=e(42);u.exports=function(R,E,B){for(var U=-1,W=(E=n(E,R)).length,ae=!1;++U<W;){var ie=O(E[U]);if(!(ae=R!=null&&B(R,ie)))break;R=R[ie]}return ae||++U!=W?ae:!!(W=R==null?0:R.length)&&m(W)&&f(ie,W)&&(s(R)||i(R))}},function(u,w,e){var n=e(159),i=e(57),s=e(58);u.exports=function(f){return s(i(f,void 0,n),f+"")}},function(u,w,e){var n=e(160);u.exports=function(i){return i!=null&&i.length?n(i,1):[]}},function(u,w,e){var n=e(161),i=e(162);u.exports=function s(f,m,O,R,E){var B=-1,U=f.length;for(O||(O=i),E||(E=[]);++B<U;){var W=f[B];m>0&&O(W)?m>1?s(W,m-1,O,R,E):n(E,W):R||(E[E.length]=W)}return E}},function(u,w){u.exports=function(e,n){for(var i=-1,s=n.length,f=e.length;++i<s;)e[f+i]=n[i];return e}},function(u,w,e){var n=e(27),i=e(30),s=e(15),f=n?n.isConcatSpreadable:void 0;u.exports=function(m){return s(m)||i(m)||!!(f&&m&&m[f])}},function(u,w){u.exports=function(e){return Function.toString.call(e).indexOf("[native code]")!==-1},u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w,e){var n=e(40),i=e(165);function s(f,m,O){return i()?(u.exports=s=Reflect.construct.bind(),u.exports.__esModule=!0,u.exports.default=u.exports):(u.exports=s=function(R,E,B){var U=[null];U.push.apply(U,E);var W=new(Function.bind.apply(R,U));return B&&n(W,B.prototype),W},u.exports.__esModule=!0,u.exports.default=u.exports),s.apply(null,arguments)}u.exports=s,u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w){u.exports=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}},u.exports.__esModule=!0,u.exports.default=u.exports},function(u,w,e){e.r(w),e.d(w,"BarcodeDecoder",function(){return ft}),e.d(w,"Readers",function(){return n}),e.d(w,"CameraAccess",function(){return tt}),e.d(w,"ImageDebug",function(){return ae.a}),e.d(w,"ImageWrapper",function(){return R.a}),e.d(w,"ResultCollector",function(){return Ft});var n={};e.r(n),e.d(n,"BarcodeReader",function(){return ee}),e.d(n,"TwoOfFiveReader",function(){return te}),e.d(n,"NewCodabarReader",function(){return ye}),e.d(n,"Code128Reader",function(){return Me}),e.d(n,"Code32Reader",function(){return gt}),e.d(n,"Code39Reader",function(){return Ke}),e.d(n,"Code39VINReader",function(){return it}),e.d(n,"Code93Reader",function(){return bt}),e.d(n,"EAN2Reader",function(){return Mt}),e.d(n,"EAN5Reader",function(){return Et}),e.d(n,"EAN8Reader",function(){return At}),e.d(n,"EANReader",function(){return Ne}),e.d(n,"I2of5Reader",function(){return St}),e.d(n,"UPCEReader",function(){return It}),e.d(n,"UPCReader",function(){return Dt});var i,s=e(17),f=e.n(s),m=e(18),O=e.n(m),R=(e(135),e(11)),E=e(12),B=e.n(E),U=e(8),W=e.n(U),ae=e(16),ie=e(3),H=e.n(ie),$=e(4),I=e.n($),N=e(1),b=e.n(N),D=e(7),T=e.n(D),P=e(6),q=e.n(P),V=e(2),j=e.n(V),Q=e(0),S=e.n(Q),K=e(9);(function(h){h[h.Forward=1]="Forward",h[h.Reverse=-1]="Reverse"})(i||(i={}));var ee=function(){function h(x,l){H()(this,h),S()(this,"_row",[]),S()(this,"config",{}),S()(this,"supplements",[]),S()(this,"SINGLE_CODE_ERROR",0),S()(this,"FORMAT","unknown"),S()(this,"CONFIG_KEYS",{}),this._row=[],this.config=x||{},l&&(this.supplements=l)}return I()(h,[{key:"_nextUnset",value:function(x){for(var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=l;t<x.length;t++)if(!x[t])return t;return x.length}},{key:"_matchPattern",value:function(x,l){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.SINGLE_CODE_ERROR||1,r=0,o=0,c=0,p=0,v=0,g=0,_=0,C=0;C<x.length;C++)c+=x[C],p+=l[C];if(c<p)return Number.MAX_VALUE;t*=v=c/p;for(var X=0;X<x.length;X++){if(g=x[X],_=l[X]*v,(o=Math.abs(g-_)/_)>t)return Number.MAX_VALUE;r+=o}return r/p}},{key:"_nextSet",value:function(x){for(var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=l;t<x.length;t++)if(x[t])return t;return x.length}},{key:"_correctBars",value:function(x,l,t){for(var r=t.length,o=0;r--;)(o=x[t[r]]*(1-(1-l)/2))>1&&(x[t[r]]=o)}},{key:"decodePattern",value:function(x){this._row=x;var l=this.decode();return l===null?(this._row.reverse(),(l=this.decode())&&(l.direction=i.Reverse,l.start=this._row.length-l.start,l.end=this._row.length-l.end)):l.direction=i.Forward,l&&(l.format=this.FORMAT),l}},{key:"_matchRange",value:function(x,l,t){var r;for(r=x=x<0?0:x;r<l;r++)if(this._row[r]!==t)return!1;return!0}},{key:"_fillCounters",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._nextUnset(this._row),l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._row.length,t=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=[],o=0;r[o]=0;for(var c=x;c<l;c++)this._row[c]^(t?1:0)?r[o]++:(r[++o]=1,t=!t);return r}},{key:"_toCounters",value:function(x,l){var t=l.length,r=this._row.length,o=!this._row[x],c=0;K.a.init(l,0);for(var p=x;p<r;p++)if(this._row[p]^(o?1:0))l[c]++;else{if(++c===t)break;l[c]=1,o=!o}return l}},{key:"decodeImage",value:function(x){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),h}();function J(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return q()(this,l)}}var ne=[3,1,3,1,1,1],A=[3,1,1,1,3],M=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],L=ne.reduce(function(h,x){return h+x},0),te=function(h){T()(l,h);var x=J(l);function l(){var t;H()(this,l);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=x.call.apply(x,[this].concat(o)),S()(b()(t),"barSpaceRatio",[1,1]),S()(b()(t),"FORMAT","2of5"),S()(b()(t),"SINGLE_CODE_ERROR",.78),S()(b()(t),"AVG_CODE_ERROR",.3),t}return I()(l,[{key:"_findPattern",value:function(t,r){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],p=[],v=0,g={error:Number.MAX_VALUE,code:-1,start:0,end:0},_=0,C=0,X=this.AVG_CODE_ERROR;r||(r=this._nextSet(this._row));for(var F=0;F<t.length;F++)p[F]=0;for(var Y=r;Y<this._row.length;Y++)if(this._row[Y]^(o?1:0))p[v]++;else{if(v===p.length-1){_=0;for(var ue=0;ue<p.length;ue++)_+=p[ue];if((C=this._matchPattern(p,t))<X)return g.error=C,g.start=Y-_,g.end=Y,g;if(!c)return null;for(var le=0;le<p.length-2;le++)p[le]=p[le+2];p[p.length-2]=0,p[p.length-1]=0,v--}else v++;p[v]=1,o=!o}return null}},{key:"_findStart",value:function(){for(var t=null,r=this._nextSet(this._row),o=1,c=0;!t;){if(!(t=this._findPattern(ne,r,!1,!0)))return null;if(o=Math.floor((t.end-t.start)/L),(c=t.start-5*o)>=0&&this._matchRange(c,t.start,0))return t;r=t.end,t=null}return t}},{key:"_verifyTrailingWhitespace",value:function(t){var r=t.end+(t.end-t.start)/2;return r<this._row.length&&this._matchRange(t.end,r,0)?t:null}},{key:"_findEnd",value:function(){this._row.reverse();var t=this._nextSet(this._row),r=this._findPattern(A,t,!1,!0);if(this._row.reverse(),r===null)return null;var o=r.start;return r.start=this._row.length-r.end,r.end=this._row.length-o,r!==null?this._verifyTrailingWhitespace(r):null}},{key:"_verifyCounterLength",value:function(t){return t.length%10==0}},{key:"_decodeCode",value:function(t){for(var r=this.AVG_CODE_ERROR,o={error:Number.MAX_VALUE,code:-1,start:0,end:0},c=0;c<M.length;c++){var p=this._matchPattern(t,M[c]);p<o.error&&(o.code=c,o.error=p)}return o.error<r?o:null}},{key:"_decodePayload",value:function(t,r,o){for(var c=0,p=t.length,v=[0,0,0,0,0],g=null;c<p;){for(var _=0;_<5;_++)v[_]=t[c]*this.barSpaceRatio[0],c+=2;if(!(g=this._decodeCode(v)))return null;r.push("".concat(g.code)),o.push(g)}return g}},{key:"decode",value:function(t,r){var o=this._findStart();if(!o)return null;var c=this._findEnd();if(!c)return null;var p=this._fillCounters(o.end,c.start,!1);if(!this._verifyCounterLength(p))return null;var v=[];v.push(o);var g=[];return this._decodePayload(p,g,v)?g.length<5?null:(v.push(c),{code:g.join(""),start:o.start,end:c.end,startInfo:o,decodedCodes:v,format:this.FORMAT}):null}}]),l}(ee);function Z(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return q()(this,l)}}var se=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],pe=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],me=[26,41,11,14],ye=function(h){T()(l,h);var x=Z(l);function l(){var t;H()(this,l);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=x.call.apply(x,[this].concat(o)),S()(b()(t),"_counters",[]),S()(b()(t),"FORMAT","codabar"),t}return I()(l,[{key:"_computeAlternatingThreshold",value:function(t,r){for(var o=Number.MAX_VALUE,c=0,p=0,v=t;v<r;v+=2)(p=this._counters[v])>c&&(c=p),p<o&&(o=p);return(o+c)/2|0}},{key:"_toPattern",value:function(t){var r=t+7;if(r>this._counters.length)return-1;for(var o=this._computeAlternatingThreshold(t,r),c=this._computeAlternatingThreshold(t+1,r),p=64,v=0,g=0,_=0;_<7;_++)v=1&_?c:o,this._counters[t+_]>v&&(g|=p),p>>=1;return g}},{key:"_isStartEnd",value:function(t){for(var r=0;r<me.length;r++)if(me[r]===t)return!0;return!1}},{key:"_sumCounters",value:function(t,r){for(var o=0,c=t;c<r;c++)o+=this._counters[c];return o}},{key:"_findStart",value:function(){for(var t=this._nextUnset(this._row),r=1;r<this._counters.length;r++){var o=this._toPattern(r);if(o!==-1&&this._isStartEnd(o))return{start:t+=this._sumCounters(0,r),end:t+this._sumCounters(r,r+8),startCounter:r,endCounter:r+8}}return null}},{key:"_patternToChar",value:function(t){for(var r=0;r<pe.length;r++)if(pe[r]===t)return String.fromCharCode(se[r]);return null}},{key:"_calculatePatternLength",value:function(t){for(var r=0,o=t;o<t+7;o++)r+=this._counters[o];return r}},{key:"_verifyWhitespace",value:function(t,r){return(t-1<=0||this._counters[t-1]>=this._calculatePatternLength(t)/2)&&(r+8>=this._counters.length||this._counters[r+7]>=this._calculatePatternLength(r)/2)}},{key:"_charToPattern",value:function(t){for(var r=t.charCodeAt(0),o=0;o<se.length;o++)if(se[o]===r)return pe[o];return 0}},{key:"_thresholdResultPattern",value:function(t,r){for(var o,c={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},p=r,v=0;v<t.length;v++){o=this._charToPattern(t[v]);for(var g=6;g>=0;g--){var _=(1&g)==2?c.bar:c.space,C=(1&o)==1?_.wide:_.narrow;C.size+=this._counters[p+g],C.counts++,o>>=1}p+=8}return["space","bar"].forEach(function(X){var F=c[X];F.wide.min=Math.floor((F.narrow.size/F.narrow.counts+F.wide.size/F.wide.counts)/2),F.narrow.max=Math.ceil(F.wide.min),F.wide.max=Math.ceil((2*F.wide.size+1.5)/F.wide.counts)}),c}},{key:"_validateResult",value:function(t,r){for(var o,c=this._thresholdResultPattern(t,r),p=r,v=0;v<t.length;v++){o=this._charToPattern(t[v]);for(var g=6;g>=0;g--){var _=1&g?c.space:c.bar,C=(1&o)==1?_.wide:_.narrow,X=this._counters[p+g];if(X<C.min||X>C.max)return!1;o>>=1}p+=8}return!0}},{key:"decode",value:function(t,r){if(this._counters=this._fillCounters(),!(r=this._findStart()))return null;var o,c=r.startCounter,p=[];do{if((o=this._toPattern(c))<0)return null;var v=this._patternToChar(o);if(v===null)return null;if(p.push(v),c+=8,p.length>1&&this._isStartEnd(o))break}while(c<this._counters.length);if(p.length-2<4||!this._isStartEnd(o)||!this._verifyWhitespace(r.startCounter,c-8)||!this._validateResult(p,r.startCounter))return null;c=c>this._counters.length?this._counters.length:c;var g=r.start+this._sumCounters(r.startCounter,c-8);return{code:p.join(""),start:r.start,end:g,startInfo:r,decodedCodes:p,format:this.FORMAT}}}]),l}(ee);function Oe(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return q()(this,l)}}var Me=function(h){T()(l,h);var x=Oe(l);function l(){var t;H()(this,l);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=x.call.apply(x,[this].concat(o)),S()(b()(t),"CODE_SHIFT",98),S()(b()(t),"CODE_C",99),S()(b()(t),"CODE_B",100),S()(b()(t),"CODE_A",101),S()(b()(t),"START_CODE_A",103),S()(b()(t),"START_CODE_B",104),S()(b()(t),"START_CODE_C",105),S()(b()(t),"STOP_CODE",106),S()(b()(t),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),S()(b()(t),"SINGLE_CODE_ERROR",.64),S()(b()(t),"AVG_CODE_ERROR",.3),S()(b()(t),"FORMAT","code_128"),S()(b()(t),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),t}return I()(l,[{key:"_decodeCode",value:function(t,r){for(var o={error:Number.MAX_VALUE,code:-1,start:t,end:t,correction:{bar:1,space:1}},c=[0,0,0,0,0,0],p=t,v=!this._row[p],g=0,_=p;_<this._row.length;_++)if(this._row[_]^(v?1:0))c[g]++;else{if(g===c.length-1){r&&this._correct(c,r);for(var C=0;C<this.CODE_PATTERN.length;C++){var X=this._matchPattern(c,this.CODE_PATTERN[C]);X<o.error&&(o.code=C,o.error=X)}return o.end=_,o.code===-1||o.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[o.code]&&(o.correction.bar=this.calculateCorrection(this.CODE_PATTERN[o.code],c,this.MODULE_INDICES.bar),o.correction.space=this.calculateCorrection(this.CODE_PATTERN[o.code],c,this.MODULE_INDICES.space)),o)}c[++g]=1,v=!v}return null}},{key:"_correct",value:function(t,r){this._correctBars(t,r.bar,this.MODULE_INDICES.bar),this._correctBars(t,r.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var t=[0,0,0,0,0,0],r=this._nextSet(this._row),o={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},c=!1,p=0,v=r;v<this._row.length;v++)if(this._row[v]^(c?1:0))t[p]++;else{if(p===t.length-1){for(var g=t.reduce(function(F,Y){return F+Y},0),_=this.START_CODE_A;_<=this.START_CODE_C;_++){var C=this._matchPattern(t,this.CODE_PATTERN[_]);C<o.error&&(o.code=_,o.error=C)}if(o.error<this.AVG_CODE_ERROR)return o.start=v-g,o.end=v,o.correction.bar=this.calculateCorrection(this.CODE_PATTERN[o.code],t,this.MODULE_INDICES.bar),o.correction.space=this.calculateCorrection(this.CODE_PATTERN[o.code],t,this.MODULE_INDICES.space),o;for(var X=0;X<4;X++)t[X]=t[X+2];t[4]=0,t[5]=0,p--}else p++;t[p]=1,c=!c}return null}},{key:"decode",value:function(t,r){var o=this,c=this._findStart();if(c===null)return null;var p={code:c.code,start:c.start,end:c.end,correction:{bar:c.correction.bar,space:c.correction.space}},v=[];v.push(p);for(var g=p.code,_=function(fe){switch(fe){case o.START_CODE_A:return o.CODE_A;case o.START_CODE_B:return o.CODE_B;case o.START_CODE_C:return o.CODE_C;default:return null}}(p.code),C=!1,X=!1,F=X,Y=!0,ue=0,le=[],he=[];!C;){if(F=X,X=!1,(p=this._decodeCode(p.end,p.correction))!==null)switch(p.code!==this.STOP_CODE&&(Y=!0),p.code!==this.STOP_CODE&&(le.push(p.code),g+=++ue*p.code),v.push(p),_){case this.CODE_A:if(p.code<64)he.push(String.fromCharCode(32+p.code));else if(p.code<96)he.push(String.fromCharCode(p.code-64));else switch(p.code!==this.STOP_CODE&&(Y=!1),p.code){case this.CODE_SHIFT:X=!0,_=this.CODE_B;break;case this.CODE_B:_=this.CODE_B;break;case this.CODE_C:_=this.CODE_C;break;case this.STOP_CODE:C=!0}break;case this.CODE_B:if(p.code<96)he.push(String.fromCharCode(32+p.code));else switch(p.code!==this.STOP_CODE&&(Y=!1),p.code){case this.CODE_SHIFT:X=!0,_=this.CODE_A;break;case this.CODE_A:_=this.CODE_A;break;case this.CODE_C:_=this.CODE_C;break;case this.STOP_CODE:C=!0}break;case this.CODE_C:if(p.code<100)he.push(p.code<10?"0"+p.code:p.code);else switch(p.code!==this.STOP_CODE&&(Y=!1),p.code){case this.CODE_A:_=this.CODE_A;break;case this.CODE_B:_=this.CODE_B;break;case this.STOP_CODE:C=!0}}else C=!0;F&&(_=_===this.CODE_A?this.CODE_B:this.CODE_A)}return p===null?null:(p.end=this._nextUnset(this._row,p.end),this._verifyTrailingWhitespace(p)?(g-=ue*le[le.length-1])%103!==le[le.length-1]?null:he.length?(Y&&he.splice(he.length-1,1),{code:he.join(""),start:c.start,end:p.end,codeset:_,startInfo:c,decodedCodes:v,endInfo:p,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(t){var r;return(r=t.end+(t.end-t.start)/2)<this._row.length&&this._matchRange(t.end,r,0)?t:null}},{key:"calculateCorrection",value:function(t,r,o){for(var c=o.length,p=0,v=0;c--;)v+=t[o[c]],p+=r[o[c]];return v/p}}]),l}(ee),Ee=e(13),Re=e.n(Ee),Se=e(33),De=e.n(Se);function ze(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return q()(this,l)}}var Pe=new Uint16Array(De()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(h){return h.charCodeAt(0)})),vt=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),Ke=function(h){T()(l,h);var x=ze(l);function l(){var t;H()(this,l);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=x.call.apply(x,[this].concat(o)),S()(b()(t),"FORMAT","code_39"),t}return I()(l,[{key:"_findStart",value:function(){for(var t=this._nextSet(this._row),r=t,o=new Uint16Array([0,0,0,0,0,0,0,0,0]),c=0,p=!1,v=t;v<this._row.length;v++)if(this._row[v]^(p?1:0))o[c]++;else{if(c===o.length-1){if(this._toPattern(o)===148){var g=Math.floor(Math.max(0,r-(v-r)/4));if(this._matchRange(g,r,0))return{start:r,end:v}}r+=o[0]+o[1];for(var _=0;_<7;_++)o[_]=o[_+2];o[7]=0,o[8]=0,c--}else c++;o[c]=1,p=!p}return null}},{key:"_toPattern",value:function(t){for(var r=t.length,o=0,c=r,p=0;c>3;){o=this._findNextWidth(t,o),c=0;for(var v=0,g=0;g<r;g++)t[g]>o&&(v|=1<<r-1-g,c++,p+=t[g]);if(c===3){for(var _=0;_<r&&c>0;_++)if(t[_]>o&&(c--,2*t[_]>=p))return-1;return v}}return-1}},{key:"_findNextWidth",value:function(t,r){for(var o=Number.MAX_VALUE,c=0;c<t.length;c++)t[c]<o&&t[c]>r&&(o=t[c]);return o}},{key:"_patternToChar",value:function(t){for(var r=0;r<vt.length;r++)if(vt[r]===t)return String.fromCharCode(Pe[r]);return null}},{key:"_verifyTrailingWhitespace",value:function(t,r,o){var c=K.a.sum(o);return 3*(r-t-c)>=c}},{key:"decode",value:function(){var t=new Uint16Array([0,0,0,0,0,0,0,0,0]),r=[],o=this._findStart();if(!o)return null;var c,p,v=this._nextSet(this._row,o.end);do{t=this._toCounters(v,t);var g=this._toPattern(t);if(g<0||(c=this._patternToChar(g))===null)return null;r.push(c),p=v,v+=K.a.sum(t),v=this._nextSet(this._row,v)}while(c!=="*");return r.pop(),r.length&&this._verifyTrailingWhitespace(p,v,t)?{code:r.join(""),start:o.start,end:v,startInfo:o,decodedCodes:r,format:this.FORMAT}:null}}]),l}(ee);function Xt(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return q()(this,l)}}var $t=/[AEIO]/g,gt=function(h){T()(l,h);var x=Xt(l);function l(){var t;H()(this,l);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=x.call.apply(x,[this].concat(o)),S()(b()(t),"FORMAT","code_32_reader"),t}return I()(l,[{key:"_decodeCode32",value:function(t){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(t))return null;for(var r=0,o=0;o<t.length;o++)r=32*r+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(t[o]);var c="".concat(r);return c.length<9&&(c=("000000000"+c).slice(-9)),"A"+c}},{key:"_checkChecksum",value:function(t){return!!t}},{key:"decode",value:function(){var t=Re()(j()(l.prototype),"decode",this).call(this);if(!t)return null;var r=t.code;if(!r||(r=r.replace($t,""),!this._checkChecksum(r)))return null;var o=this._decodeCode32(r);return o?(t.code=o,t):null}}]),l}(Ke);function Qt(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return q()(this,l)}}var mt=/[IOQ]/g,yt=/[A-Z0-9]{17}/,it=function(h){T()(l,h);var x=Qt(l);function l(){var t;H()(this,l);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=x.call.apply(x,[this].concat(o)),S()(b()(t),"FORMAT","code_39_vin"),t}return I()(l,[{key:"_checkChecksum",value:function(t){return!!t}},{key:"decode",value:function(){var t=Re()(j()(l.prototype),"decode",this).call(this);if(!t)return null;var r=t.code;return r&&(r=r.replace(mt,"")).match(yt)&&this._checkChecksum(r)?(t.code=r,t):null}}]),l}(Ke);function xt(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return q()(this,l)}}var ut=new Uint16Array(De()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(h){return h.charCodeAt(0)})),_t=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),bt=function(h){T()(l,h);var x=xt(l);function l(){var t;H()(this,l);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=x.call.apply(x,[this].concat(o)),S()(b()(t),"FORMAT","code_93"),t}return I()(l,[{key:"_patternToChar",value:function(t){for(var r=0;r<_t.length;r++)if(_t[r]===t)return String.fromCharCode(ut[r]);return null}},{key:"_toPattern",value:function(t){for(var r=t.length,o=t.reduce(function(_,C){return _+C},0),c=0,p=0;p<r;p++){var v=Math.round(9*t[p]/o);if(v<1||v>4)return-1;if(1&p)c<<=v;else for(var g=0;g<v;g++)c=c<<1|1}return c}},{key:"_findStart",value:function(){for(var t=this._nextSet(this._row),r=t,o=new Uint16Array([0,0,0,0,0,0]),c=0,p=!1,v=t;v<this._row.length;v++)if(this._row[v]^(p?1:0))o[c]++;else{if(c===o.length-1){if(this._toPattern(o)===350){var g=Math.floor(Math.max(0,r-(v-r)/4));if(this._matchRange(g,r,0))return{start:r,end:v}}r+=o[0]+o[1];for(var _=0;_<4;_++)o[_]=o[_+2];o[4]=0,o[5]=0,c--}else c++;o[c]=1,p=!p}return null}},{key:"_verifyEnd",value:function(t,r){return!(t===r||!this._row[r])}},{key:"_decodeExtended",value:function(t){for(var r=t.length,o=[],c=0;c<r;c++){var p=t[c];if(p>="a"&&p<="d"){if(c>r-2)return null;var v=t[++c],g=v.charCodeAt(0),_=void 0;switch(p){case"a":if(!(v>="A"&&v<="Z"))return null;_=String.fromCharCode(g-64);break;case"b":if(v>="A"&&v<="E")_=String.fromCharCode(g-38);else if(v>="F"&&v<="J")_=String.fromCharCode(g-11);else if(v>="K"&&v<="O")_=String.fromCharCode(g+16);else if(v>="P"&&v<="S")_=String.fromCharCode(g+43);else{if(!(v>="T"&&v<="Z"))return null;_=String.fromCharCode(127)}break;case"c":if(v>="A"&&v<="O")_=String.fromCharCode(g-32);else{if(v!=="Z")return null;_=":"}break;case"d":if(!(v>="A"&&v<="Z"))return null;_=String.fromCharCode(g+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",_),null}o.push(_)}else o.push(p)}return o}},{key:"_matchCheckChar",value:function(t,r,o){var c=t.slice(0,r),p=c.length,v=c.reduce(function(g,_,C){return g+((-1*C+(p-1))%o+1)*ut.indexOf(_.charCodeAt(0))},0);return ut[v%47]===t[r].charCodeAt(0)}},{key:"_verifyChecksums",value:function(t){return this._matchCheckChar(t,t.length-2,20)&&this._matchCheckChar(t,t.length-1,15)}},{key:"decode",value:function(t,r){if(!(r=this._findStart()))return null;var o,c,p=new Uint16Array([0,0,0,0,0,0]),v=[],g=this._nextSet(this._row,r.end);do{p=this._toCounters(g,p);var _=this._toPattern(p);if(_<0||(c=this._patternToChar(_))===null)return null;v.push(c),o=g,g+=K.a.sum(p),g=this._nextSet(this._row,g)}while(c!=="*");return v.pop(),v.length&&this._verifyEnd(o,g)&&this._verifyChecksums(v)?(v=v.slice(0,v.length-2),(v=this._decodeExtended(v))===null?null:{code:v.join(""),start:r.start,end:g,startInfo:r,decodedCodes:v,format:this.FORMAT}):null}}]),l}(ee);function wt(h,x){var l=Object.keys(h);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(h);x&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(h,r).enumerable})),l.push.apply(l,t)}return l}function ct(h){for(var x=1;x<arguments.length;x++){var l=arguments[x]!=null?arguments[x]:{};x%2?wt(Object(l),!0).forEach(function(t){S()(h,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(l)):wt(Object(l)).forEach(function(t){Object.defineProperty(h,t,Object.getOwnPropertyDescriptor(l,t))})}return h}function Yt(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return q()(this,l)}}var Zt=[1,1,1],Ot=[1,1,1,1,1],Jt=[1,1,2],Rt=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],Ct=[0,11,13,14,19,25,28,21,22,26],Ne=function(h){T()(l,h);var x=Yt(l);function l(t,r){var o;return H()(this,l),o=x.call(this,O()({supplements:[]},t),r),S()(b()(o),"FORMAT","ean_13"),S()(b()(o),"SINGLE_CODE_ERROR",.7),S()(b()(o),"STOP_PATTERN",[1,1,1]),o}return I()(l,[{key:"_findPattern",value:function(t,r,o,c){var p=new Array(t.length).fill(0),v={error:Number.MAX_VALUE,start:0,end:0},g=0;r||(r=this._nextSet(this._row));for(var _=!1,C=r;C<this._row.length;C++)if(this._row[C]^(o?1:0))p[g]+=1;else{if(g===p.length-1){var X=this._matchPattern(p,t);if(X<.48&&v.error&&X<v.error)return _=!0,v.error=X,v.start=C-p.reduce(function(Y,ue){return Y+ue},0),v.end=C,v;if(c){for(var F=0;F<p.length-2;F++)p[F]=p[F+2];p[p.length-2]=0,p[p.length-1]=0,g--}}else g++;p[g]=1,o=!o}return _?v:null}},{key:"_decodeCode",value:function(t,r){var o=[0,0,0,0],c=t,p={error:Number.MAX_VALUE,code:-1,start:t,end:t},v=!this._row[c],g=0;r||(r=Rt.length);for(var _=c;_<this._row.length;_++)if(this._row[_]^(v?1:0))o[g]++;else{if(g===o.length-1){for(var C=0;C<r;C++){var X=this._matchPattern(o,Rt[C]);p.end=_,X<p.error&&(p.code=C,p.error=X)}return p.error>.48?null:p}o[++g]=1,v=!v}return null}},{key:"_findStart",value:function(){for(var t=this._nextSet(this._row),r=null;!r;){if(!(r=this._findPattern(Zt,t,!1,!0)))return null;var o=r.start-(r.end-r.start);if(o>=0&&this._matchRange(o,r.start,0))return r;t=r.end,r=null}return null}},{key:"_calculateFirstDigit",value:function(t){for(var r=0;r<Ct.length;r++)if(t===Ct[r])return r;return null}},{key:"_decodePayload",value:function(t,r,o){for(var c=ct({},t),p=0,v=0;v<6;v++){if(!(c=this._decodeCode(c.end)))return null;c.code>=10?(c.code-=10,p|=1<<5-v):p|=0<<5-v,r.push(c.code),o.push(c)}var g=this._calculateFirstDigit(p);if(g===null)return null;r.unshift(g);var _=this._findPattern(Ot,c.end,!0,!1);if(_===null||!_.end)return null;o.push(_);for(var C=0;C<6;C++){if(!(_=this._decodeCode(_.end,10)))return null;o.push(_),r.push(_.code)}return _}},{key:"_verifyTrailingWhitespace",value:function(t){var r=t.end+(t.end-t.start);return r<this._row.length&&this._matchRange(t.end,r,0)?t:null}},{key:"_findEnd",value:function(t,r){var o=this._findPattern(this.STOP_PATTERN,t,r,!1);return o!==null?this._verifyTrailingWhitespace(o):null}},{key:"_checksum",value:function(t){for(var r=0,o=t.length-2;o>=0;o-=2)r+=t[o];r*=3;for(var c=t.length-1;c>=0;c-=2)r+=t[c];return r%10==0}},{key:"_decodeExtensions",value:function(t){var r=this._nextSet(this._row,t),o=this._findPattern(Jt,r,!1,!1);if(o===null)return null;for(var c=0;c<this.supplements.length;c++)try{var p=this.supplements[c].decode(this._row,o.end);if(p!==null)return{code:p.code,start:r,startInfo:o,end:p.end,decodedCodes:p.decodedCodes,format:this.supplements[c].FORMAT}}catch(v){console.error("* decodeExtensions error in ",this.supplements[c],": ",v)}return null}},{key:"decode",value:function(t,r){var o=new Array,c=new Array,p={},v=this._findStart();if(!v)return null;var g={start:v.start,end:v.end};if(c.push(g),!(g=this._decodePayload(g,o,c))||!(g=this._findEnd(g.end,!1))||(c.push(g),!this._checksum(o)))return null;if(this.supplements.length>0){var _=this._decodeExtensions(g.end);if(!_||!_.decodedCodes)return null;var C=_.decodedCodes[_.decodedCodes.length-1],X={start:C.start+((C.end-C.start)/2|0),end:C.end};if(!this._verifyTrailingWhitespace(X))return null;p={supplement:_,code:o.join("")+_.code}}return ct(ct({code:o.join(""),start:v.start,end:g.end,startInfo:v,decodedCodes:c},p),{},{format:this.FORMAT})}}]),l}(ee);function Kt(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return q()(this,l)}}var Mt=function(h){T()(l,h);var x=Kt(l);function l(){var t;H()(this,l);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=x.call.apply(x,[this].concat(o)),S()(b()(t),"FORMAT","ean_2"),t}return I()(l,[{key:"decode",value:function(t,r){t&&(this._row=t);var o=0,c=r,p=this._row.length,v=[],g=[],_=null;if(c===void 0)return null;for(var C=0;C<2&&c<p;C++){if(!(_=this._decodeCode(c)))return null;g.push(_),v.push(_.code%10),_.code>=10&&(o|=1<<1-C),C!==1&&(c=this._nextSet(this._row,_.end),c=this._nextUnset(this._row,c))}if(v.length!==2||parseInt(v.join(""))%4!==o)return null;var X=this._findStart();return{code:v.join(""),decodedCodes:g,end:_.end,format:this.FORMAT,startInfo:X,start:X.start}}}]),l}(Ne);function er(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return q()(this,l)}}var tr=[24,20,18,17,12,6,3,10,9,5],Et=function(h){T()(l,h);var x=er(l);function l(){var t;H()(this,l);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=x.call.apply(x,[this].concat(o)),S()(b()(t),"FORMAT","ean_5"),t}return I()(l,[{key:"decode",value:function(t,r){if(r===void 0)return null;t&&(this._row=t);for(var o=0,c=r,p=this._row.length,v=null,g=[],_=[],C=0;C<5&&c<p;C++){if(!(v=this._decodeCode(c)))return null;_.push(v),g.push(v.code%10),v.code>=10&&(o|=1<<4-C),C!==4&&(c=this._nextSet(this._row,v.end),c=this._nextUnset(this._row,c))}if(g.length!==5||function(F){for(var Y=F.length,ue=0,le=Y-2;le>=0;le-=2)ue+=F[le];ue*=3;for(var he=Y-1;he>=0;he-=2)ue+=F[he];return(ue*=3)%10}(g)!==function(F){for(var Y=0;Y<10;Y++)if(F===tr[Y])return Y;return null}(o))return null;var X=this._findStart();return{code:g.join(""),decodedCodes:_,end:v.end,format:this.FORMAT,startInfo:X,start:X.start}}}]),l}(Ne);function Be(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return q()(this,l)}}var At=function(h){T()(l,h);var x=Be(l);function l(){var t;H()(this,l);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=x.call.apply(x,[this].concat(o)),S()(b()(t),"FORMAT","ean_8"),t}return I()(l,[{key:"_decodePayload",value:function(t,r,o){for(var c=t,p=0;p<4;p++){if(!(c=this._decodeCode(c.end,10)))return null;r.push(c.code),o.push(c)}if((c=this._findPattern(Ot,c.end,!0,!1))===null)return null;o.push(c);for(var v=0;v<4;v++){if(!(c=this._decodeCode(c.end,10)))return null;o.push(c),r.push(c.code)}return c}}]),l}(Ne);function rr(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return q()(this,l)}}var St=function(h){T()(l,h);var x=rr(l);function l(t){var r;return H()(this,l),r=x.call(this,O()({normalizeBarSpaceWidth:!1},t)),S()(b()(r),"barSpaceRatio",[1,1]),S()(b()(r),"SINGLE_CODE_ERROR",.78),S()(b()(r),"AVG_CODE_ERROR",.38),S()(b()(r),"START_PATTERN",[1,1,1,1]),S()(b()(r),"STOP_PATTERN",[1,1,3]),S()(b()(r),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),S()(b()(r),"MAX_CORRECTION_FACTOR",5),S()(b()(r),"FORMAT","i2of5"),t.normalizeBarSpaceWidth&&(r.SINGLE_CODE_ERROR=.38,r.AVG_CODE_ERROR=.09),r.config=t,q()(r,b()(r))}return I()(l,[{key:"_matchPattern",value:function(t,r){if(this.config.normalizeBarSpaceWidth){for(var o=[0,0],c=[0,0],p=[0,0],v=this.MAX_CORRECTION_FACTOR,g=1/v,_=0;_<t.length;_++)o[_%2]+=t[_],c[_%2]+=r[_];p[0]=c[0]/o[0],p[1]=c[1]/o[1],p[0]=Math.max(Math.min(p[0],v),g),p[1]=Math.max(Math.min(p[1],v),g),this.barSpaceRatio=p;for(var C=0;C<t.length;C++)t[C]*=this.barSpaceRatio[C%2]}return Re()(j()(l.prototype),"_matchPattern",this).call(this,t,r)}},{key:"_findPattern",value:function(t,r){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],p=new Array(t.length).fill(0),v=0,g={error:Number.MAX_VALUE,start:0,end:0},_=this.AVG_CODE_ERROR;o=o||!1,c=c||!1,r||(r=this._nextSet(this._row));for(var C=r;C<this._row.length;C++)if(this._row[C]^(o?1:0))p[v]++;else{if(v===p.length-1){var X=p.reduce(function(ue,le){return ue+le},0),F=this._matchPattern(p,t);if(F<_)return g.error=F,g.start=C-X,g.end=C,g;if(!c)return null;for(var Y=0;Y<p.length-2;Y++)p[Y]=p[Y+2];p[p.length-2]=0,p[p.length-1]=0,v--}else v++;p[v]=1,o=!o}return null}},{key:"_findStart",value:function(){for(var t=0,r=this._nextSet(this._row),o=null,c=1;!o;){if(!(o=this._findPattern(this.START_PATTERN,r,!1,!0)))return null;if(c=Math.floor((o.end-o.start)/4),(t=o.start-10*c)>=0&&this._matchRange(t,o.start,0))return o;r=o.end,o=null}return null}},{key:"_verifyTrailingWhitespace",value:function(t){var r=t.end+(t.end-t.start)/2;return r<this._row.length&&this._matchRange(t.end,r,0)?t:null}},{key:"_findEnd",value:function(){this._row.reverse();var t=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),t===null)return null;var r=t.start;return t.start=this._row.length-t.end,t.end=this._row.length-r,t!==null?this._verifyTrailingWhitespace(t):null}},{key:"_decodePair",value:function(t){for(var r=[],o=0;o<t.length;o++){var c=this._decodeCode(t[o]);if(!c)return null;r.push(c)}return r}},{key:"_decodeCode",value:function(t){for(var r=this.AVG_CODE_ERROR,o={error:Number.MAX_VALUE,code:-1,start:0,end:0},c=0;c<this.CODE_PATTERN.length;c++){var p=this._matchPattern(t,this.CODE_PATTERN[c]);p<o.error&&(o.code=c,o.error=p)}return o.error<r?o:null}},{key:"_decodePayload",value:function(t,r,o){for(var c=0,p=t.length,v=[[0,0,0,0,0],[0,0,0,0,0]],g=null;c<p;){for(var _=0;_<5;_++)v[0][_]=t[c]*this.barSpaceRatio[0],v[1][_]=t[c+1]*this.barSpaceRatio[1],c+=2;if(!(g=this._decodePair(v)))return null;for(var C=0;C<g.length;C++)r.push(g[C].code+""),o.push(g[C])}return g}},{key:"_verifyCounterLength",value:function(t){return t.length%10==0}},{key:"decode",value:function(t,r){var o=new Array,c=new Array,p=this._findStart();if(!p)return null;c.push(p);var v=this._findEnd();if(!v)return null;var g=this._fillCounters(p.end,v.start,!1);return this._verifyCounterLength(g)&&this._decodePayload(g,o,c)?o.length%2!=0||o.length<6?null:(c.push(v),{code:o.join(""),start:p.start,end:v.end,startInfo:p,decodedCodes:c,format:this.FORMAT}):null}}]),l}(ee);function kt(h,x){var l=Object.keys(h);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(h);x&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(h,r).enumerable})),l.push.apply(l,t)}return l}function nr(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return q()(this,l)}}var It=function(h){T()(l,h);var x=nr(l);function l(){var t;H()(this,l);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=x.call.apply(x,[this].concat(o)),S()(b()(t),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),S()(b()(t),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),S()(b()(t),"FORMAT","upc_e"),t}return I()(l,[{key:"_decodePayload",value:function(t,r,o){for(var c=function(g){for(var _=1;_<arguments.length;_++){var C=arguments[_]!=null?arguments[_]:{};_%2?kt(Object(C),!0).forEach(function(X){S()(g,X,C[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(C)):kt(Object(C)).forEach(function(X){Object.defineProperty(g,X,Object.getOwnPropertyDescriptor(C,X))})}return g}({},t),p=0,v=0;v<6;v++){if(!(c=this._decodeCode(c.end)))return null;c.code>=10&&(c.code=c.code-10,p|=1<<5-v),r.push(c.code),o.push(c)}return this._determineParity(p,r)?c:null}},{key:"_determineParity",value:function(t,r){for(var o=0;o<this.CODE_FREQUENCY.length;o++)for(var c=0;c<this.CODE_FREQUENCY[o].length;c++)if(t===this.CODE_FREQUENCY[o][c])return r.unshift(o),r.push(c),!0;return!1}},{key:"_convertToUPCA",value:function(t){var r=[t[0]],o=t[t.length-2];return(r=o<=2?r.concat(t.slice(1,3)).concat([o,0,0,0,0]).concat(t.slice(3,6)):o===3?r.concat(t.slice(1,4)).concat([0,0,0,0,0]).concat(t.slice(4,6)):o===4?r.concat(t.slice(1,5)).concat([0,0,0,0,0,t[5]]):r.concat(t.slice(1,6)).concat([0,0,0,0,o])).push(t[t.length-1]),r}},{key:"_checksum",value:function(t){return Re()(j()(l.prototype),"_checksum",this).call(this,this._convertToUPCA(t))}},{key:"_findEnd",value:function(t,r){return Re()(j()(l.prototype),"_findEnd",this).call(this,t,!0)}},{key:"_verifyTrailingWhitespace",value:function(t){var r=t.end+(t.end-t.start)/2;return r<this._row.length&&this._matchRange(t.end,r,0)?t:null}}]),l}(Ne);function or(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return q()(this,l)}}var Dt=function(h){T()(l,h);var x=or(l);function l(){var t;H()(this,l);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=x.call.apply(x,[this].concat(o)),S()(b()(t),"FORMAT","upc_a"),t}return I()(l,[{key:"decode",value:function(t,r){var o=Ne.prototype.decode.call(this);return o&&o.code&&o.code.length===13&&o.code.charAt(0)==="0"?(o.code=o.code.substring(1),o):null}}]),l}(Ne),$e={},et={UP:1,DOWN:-1};$e.getBarcodeLine=function(h,x,l){var t,r,o,c,p,v=0|x.x,g=0|x.y,_=0|l.x,C=0|l.y,X=Math.abs(C-g)>Math.abs(_-v),F=[],Y=h.data,ue=h.size.x,le=255,he=0;function fe(Je,kr){p=Y[kr*ue+Je],le=p<le?p:le,he=p>he?p:he,F.push(p)}X&&(o=v,v=g,g=o,o=_,_=C,C=o),v>_&&(o=v,v=_,_=o,o=g,g=C,C=o);var ve=_-v,_e=Math.abs(C-g);t=ve/2|0,r=g;var Ie=g<C?1:-1;for(c=v;c<_;c++)X?fe(r,c):fe(c,r),(t-=_e)<0&&(r+=Ie,t+=ve);return{line:F,min:le,max:he}},$e.toBinaryLine=function(h){var x,l,t,r,o,c,p=h.min,v=h.max,g=h.line,_=p+(v-p)/2,C=[],X=(v-p)/12,F=-X;for(t=g[0]>_?et.UP:et.DOWN,C.push({pos:0,val:g[0]}),o=0;o<g.length-2;o++)t!==(r=(x=g[o+1]-g[o])+(l=g[o+2]-g[o+1])<F&&g[o+1]<1.5*_?et.DOWN:x+l>X&&g[o+1]>.5*_?et.UP:t)&&(C.push({pos:o,val:g[o]}),t=r);for(C.push({pos:g.length,val:g[g.length-1]}),c=C[0].pos;c<C[1].pos;c++)g[c]=g[c]>_?0:1;for(o=1;o<C.length-1;o++)for(X=C[o+1].val>C[o].val?C[o].val+(C[o+1].val-C[o].val)/3*2|0:C[o+1].val+(C[o].val-C[o+1].val)/3|0,c=C[o].pos;c<C[o+1].pos;c++)g[c]=g[c]>X?0:1;return{line:g,threshold:X}},$e.debug={printFrequency:function(h,x){var l,t=x.getContext("2d");for(x.width=h.length,x.height=256,t.beginPath(),t.strokeStyle="blue",l=0;l<h.length;l++)t.moveTo(l,255),t.lineTo(l,255-h[l]);t.stroke(),t.closePath()},printPattern:function(h,x){var l,t=x.getContext("2d");for(x.width=h.length,t.fillColor="black",l=0;l<h.length;l++)h[l]===1&&t.fillRect(l,0,1,100)}};var st=$e;function ar(h,x){var l=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!l){if(Array.isArray(h)||(l=function(v,g){if(v){if(typeof v=="string")return Pt(v,g);var _=Object.prototype.toString.call(v).slice(8,-1);if(_==="Object"&&v.constructor&&(_=v.constructor.name),_==="Map"||_==="Set")return Array.from(v);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return Pt(v,g)}}(h))||x&&h&&typeof h.length=="number"){l&&(h=l);var t=0,r=function(){};return{s:r,n:function(){return t>=h.length?{done:!0}:{done:!1,value:h[t++]}},e:function(v){throw v},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,c=!0,p=!1;return{s:function(){l=l.call(h)},n:function(){var v=l.next();return c=v.done,v},e:function(v){p=!0,o=v},f:function(){try{c||l.return==null||l.return()}finally{if(p)throw o}}}}function Pt(h,x){(x==null||x>h.length)&&(x=h.length);for(var l=0,t=new Array(x);l<x;l++)t[l]=h[l];return t}var Qe={code_128_reader:Me,ean_reader:Ne,ean_5_reader:Et,ean_2_reader:Mt,ean_8_reader:At,code_39_reader:Ke,code_39_vin_reader:it,codabar_reader:ye,upc_reader:Dt,upc_e_reader:It,i2of5_reader:St,"2of5_reader":te,code_93_reader:bt,code_32_reader:gt},ft={registerReader:function(h,x){Qe[h]=x},create:function(h,x){var l=[];function t(){h.readers.forEach(function(v){var g,_={},C=[];f()(v)==="object"?(g=v.format,_=v.config):typeof v=="string"&&(g=v),_.supplements&&(C=_.supplements.map(function(F){return new Qe[F]}));try{var X=new Qe[g](_,C);l.push(X)}catch(F){throw console.error("* Error constructing reader ",g,F),F}})}function r(v){var g,_=null,C=st.getBarcodeLine(x,v[0],v[1]);for(st.toBinaryLine(C),g=0;g<l.length&&_===null;g++)_=l[g].decodePattern(C.line);return _===null?null:{codeResult:_,barcodeLine:C}}function o(v){return c.apply(this,arguments)}function c(){return(c=B()(W.a.mark(function v(g){var _,C,X,F;return W.a.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:_=null,C=ar(l),Y.prev=2,C.s();case 4:if((X=C.n()).done){Y.next=14;break}if(!(F=X.value).decodeImage){Y.next=12;break}return Y.next=9,F.decodeImage(g);case 9:if(!(_=Y.sent)){Y.next=12;break}return Y.abrupt("break",14);case 12:Y.next=4;break;case 14:Y.next=19;break;case 16:Y.prev=16,Y.t0=Y.catch(2),C.e(Y.t0);case 19:return Y.prev=19,C.f(),Y.finish(19);case 22:return Y.abrupt("return",_);case 23:case"end":return Y.stop()}},v,null,[[2,16,19,22]])}))).apply(this,arguments)}function p(v){var g,_,C=function(F){return Math.sqrt(Math.pow(Math.abs(F[1].y-F[0].y),2)+Math.pow(Math.abs(F[1].x-F[0].x),2))}(g=function(F){return[{x:(F[1][0]-F[0][0])/2+F[0][0],y:(F[1][1]-F[0][1])/2+F[0][1]},{x:(F[3][0]-F[2][0])/2+F[2][0],y:(F[3][1]-F[2][1])/2+F[2][1]}]}(v)),X=Math.atan2(g[1].y-g[0].y,g[1].x-g[0].x);return(g=function(F,Y,ue){function le(he){var fe=he*Math.sin(Y),ve=he*Math.cos(Y);F[0].y-=fe,F[0].x-=ve,F[1].y+=fe,F[1].x+=ve}for(le(ue);ue>1&&(!x.inImageWithBorder(F[0])||!x.inImageWithBorder(F[1]));)le(-(ue-=Math.ceil(ue/2)));return F}(g,X,Math.floor(.1*C)))===null?null:((_=r(g))===null&&(_=function(F,Y,ue){var le,he,fe,ve=Math.sqrt(Math.pow(F[1][0]-F[0][0],2)+Math.pow(F[1][1]-F[0][1],2)),_e=null,Ie=Math.sin(ue),Je=Math.cos(ue);for(le=1;le<16&&_e===null;le++)fe={y:(he=ve/16*le*(le%2==0?-1:1))*Ie,x:he*Je},Y[0].y+=fe.x,Y[0].x-=fe.y,Y[1].y+=fe.x,Y[1].x-=fe.y,_e=r(Y);return _e}(v,g,X)),_===null?null:{codeResult:_.codeResult,line:g,angle:X,pattern:_.barcodeLine.line,threshold:_.barcodeLine.threshold})}return t(),{decodeFromBoundingBox:function(v){return p(v)},decodeFromBoundingBoxes:function(v){var g,_,C=[],X=h.multiple;for(g=0;g<v.length;g++){var F=v[g];if((_=p(F)||{}).box=F,X)C.push(_);else if(_.codeResult)return _}return{barcodes:C}},decodeFromImage:function(v){return B()(W.a.mark(function g(){var _;return W.a.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,o(v);case 2:return _=C.sent,C.abrupt("return",_);case 4:case"end":return C.stop()}},g)}))()},registerReader:function(v,g){if(Qe[v])throw new Error("cannot register existing reader",v);Qe[v]=g},setReaders:function(v){h.readers=v,l.length=0,t()}}}},Le=function(){var h={};function x(r){return h[r]||(h[r]={subscribers:[]}),h[r]}function l(r,o){r.async?setTimeout(function(){r.callback(o)},4):r.callback(o)}function t(r,o,c){var p;if(typeof o=="function")p={callback:o,async:c};else if(!(p=o).callback)throw new Error("Callback was not specified on options");x(r).subscribers.push(p)}return{subscribe:function(r,o,c){return t(r,o,c)},publish:function(r,o){var c=x(r),p=c.subscribers;p.filter(function(v){return!!v.once}).forEach(function(v){l(v,o)}),c.subscribers=p.filter(function(v){return!v.once}),c.subscribers.forEach(function(v){l(v,o)})},once:function(r,o){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];t(r,{callback:o,async:c,once:!0})},unsubscribe:function(r,o){if(r){var c=x(r);c.subscribers=c&&o?c.subscribers.filter(function(p){return p.callback!==o}):[]}else h={}}}}(),Tt=e(62),jt=e.n(Tt),ir=e(63);function ur(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=j()(h);if(x){var r=j()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return q()(this,l)}}var He,lt=function(h){T()(l,h);var x=ur(l);function l(t,r){var o;return H()(this,l),o=x.call(this,t),S()(b()(o),"code",void 0),o.code=r,Object.setPrototypeOf(b()(o),l.prototype),o}return I()(l)}(e.n(ir)()(Error)),zt="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function cr(){try{return navigator.mediaDevices.enumerateDevices()}catch{var h=new lt("enumerateDevices is not defined. ".concat(zt),-1);return Promise.reject(h)}}function sr(h){try{return navigator.mediaDevices.getUserMedia(h)}catch{var x=new lt("getUserMedia is not defined. ".concat(zt),-1);return Promise.reject(x)}}function Nt(h){return new Promise(function(x,l){var t=10;(function r(){t>0?h.videoWidth>10&&h.videoHeight>10?x():window.setTimeout(r,500):l(new lt("Unable to play video stream. Is webcam working?",-1)),t--})()})}function Lt(h,x){return dt.apply(this,arguments)}function dt(){return(dt=B()(W.a.mark(function h(x,l){var t;return W.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,sr(l);case 2:if(t=r.sent,He=t,!x){r.next=11;break}return x.setAttribute("autoplay","true"),x.setAttribute("muted","true"),x.setAttribute("playsinline","true"),x.srcObject=t,x.addEventListener("loadedmetadata",function(){x.play().catch(function(o){console.warn("* Error while trying to play video stream:",o)})}),r.abrupt("return",Nt(x));case 11:return r.abrupt("return",Promise.resolve());case 12:case"end":return r.stop()}},h)}))).apply(this,arguments)}function fr(h){var x=jt()(h,["width","height","facingMode","aspectRatio","deviceId"]);return h.minAspectRatio!==void 0&&h.minAspectRatio>0&&(x.aspectRatio=h.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),h.facing!==void 0&&(x.facingMode=h.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),x}function lr(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=fr(h);return x&&x.deviceId&&x.facingMode&&delete x.facingMode,Promise.resolve({audio:!1,video:x})}function Ut(){return(Ut=B()(W.a.mark(function h(){var x;return W.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,cr();case 2:return x=l.sent,l.abrupt("return",x.filter(function(t){return t.kind==="videoinput"}));case 4:case"end":return l.stop()}},h)}))).apply(this,arguments)}function Ye(){if(!He)return null;var h=He.getVideoTracks();return h&&h!=null&&h.length?h[0]:null}var Ze={requestedVideoElement:null,request:function(h,x){return B()(W.a.mark(function l(){var t;return W.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return Ze.requestedVideoElement=h,r.next=3,lr(x);case 3:return t=r.sent,r.abrupt("return",Lt(h,t));case 5:case"end":return r.stop()}},l)}))()},release:function(){var h=He&&He.getVideoTracks();return Ze.requestedVideoElement!==null&&Ze.requestedVideoElement.pause(),new Promise(function(x){setTimeout(function(){h&&h.length&&h.forEach(function(l){return l.stop()}),He=null,Ze.requestedVideoElement=null,x()},0)})},enumerateVideoDevices:function(){return Ut.apply(this,arguments)},getActiveStreamLabel:function(){var h=Ye();return h?h.label:""},getActiveTrack:Ye,disableTorch:function(){return B()(W.a.mark(function h(){var x;return W.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(x=Ye())){l.next=11;break}return l.prev=2,l.next=5,x.applyConstraints({advanced:[{torch:!1}]});case 5:l.next=11;break;case 7:throw l.prev=7,l.t0=l.catch(2),l.t0 instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),l.t0;case 11:case"end":return l.stop()}},h,null,[[2,7]])}))()},enableTorch:function(){return B()(W.a.mark(function h(){var x;return W.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(x=Ye())){l.next=11;break}return l.prev=2,l.next=5,x.applyConstraints({advanced:[{torch:!0}]});case 5:l.next=11;break;case 7:throw l.prev=7,l.t0=l.catch(2),l.t0 instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),l.t0;case 11:case"end":return l.stop()}},h,null,[[2,7]])}))()}},tt=Ze,Ft={create:function(h){var x,l=document.createElement("canvas"),t=l.getContext("2d",{willReadFrequently:!!h.willReadFrequently}),r=[],o=(x=h.capacity)!==null&&x!==void 0?x:20,c=h.capture===!0;function p(v){return!!o&&v&&!function(g,_){return _&&_.some(function(C){return Object.keys(C).every(function(X){return C[X]===g[X]})})}(v,h.blacklist)&&function(g,_){return typeof _!="function"||_(g)}(v,h.filter)}return{addResult:function(v,g,_){var C={};p(_)&&(o--,C.codeResult=_,c&&(l.width=g.x,l.height=g.y,ae.a.drawImage(v,g,t),C.frame=l.toDataURL()),r.push(C))},getResults:function(){return r}}}},dr={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},ke=e(5),rt=e(10),Wt=Math.PI/180,hr={create:function(h,x){var l,t={},r=h.getConfig(),o=(Object(rt.h)(h.getRealWidth(),h.getRealHeight()),h.getCanvasSize()),c=Object(rt.h)(h.getWidth(),h.getHeight()),p=h.getTopRight(),v=p.x,g=p.y,_=null,C=null,X=r.willReadFrequently;return(l=x||document.createElement("canvas")).width=o.x,l.height=o.y,console.warn("*** frame_grabber_browser: willReadFrequently=",X,"canvas=",l),_=l.getContext("2d",{willReadFrequently:!!X}),C=new Uint8Array(c.x*c.y),t.attachData=function(F){C=F},t.getData=function(){return C},t.grab=function(){var F,Y=r.halfSample,ue=h.getFrame(),le=ue,he=0;if(le){if(function(fe,ve){fe.width!==ve.x&&(fe.width=ve.x),fe.height!==ve.y&&(fe.height=ve.y)}(l,o),r.type==="ImageStream"&&(le=ue.img,ue.tags&&ue.tags.orientation))switch(ue.tags.orientation){case 6:he=90*Wt;break;case 8:he=-90*Wt}return he!==0?(_.translate(o.x/2,o.y/2),_.rotate(he),_.drawImage(le,-o.y/2,-o.x/2,o.y,o.x),_.rotate(-he),_.translate(-o.x/2,-o.y/2)):_.drawImage(le,0,0,o.x,o.y),F=_.getImageData(v,g,c.x,c.y).data,Y?Object(rt.e)(F,c,C):Object(rt.c)(F,C,r),!0}return!1},t.getSize=function(){return c},t}},pr=hr,nt={274:"orientation"},Bt=Object.keys(nt).map(function(h){return nt[h]});function vr(h){return new Promise(function(x){var l=new FileReader;l.onload=function(t){return x(t.target.result)},l.readAsArrayBuffer(h)})}function gr(h){return new Promise(function(x,l){var t=new XMLHttpRequest;t.open("GET",h,!0),t.responseType="blob",t.onreadystatechange=function(){t.readyState!==XMLHttpRequest.DONE||t.status!==200&&t.status!==0||x(this.response)},t.onerror=l,t.send()})}function mr(h){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bt,l=new DataView(h),t=h.byteLength,r=x.reduce(function(c,p){var v=Object.keys(nt).filter(function(g){return nt[g]===p})[0];return v&&(c[v]=p),c},{}),o=2;if(l.getUint8(0)!==255||l.getUint8(1)!==216)return!1;for(;o<t;){if(l.getUint8(o)!==255)return!1;if(l.getUint8(o+1)===225)return yr(l,o+4,r);o+=2+l.getUint16(o+2)}return!1}function yr(h,x,l){if(function(c,p,v){for(var g="",_=p;_<p+v;_++)g+=String.fromCharCode(c.getUint8(_));return g}(h,x,4)!=="Exif")return!1;var t,r=x+6;if(h.getUint16(r)===18761)t=!1;else{if(h.getUint16(r)!==19789)return!1;t=!0}if(h.getUint16(r+2,!t)!==42)return!1;var o=h.getUint32(r+4,!t);return!(o<8)&&function(c,p,v,g,_){for(var C=c.getUint16(v,!_),X={},F=0;F<C;F++){var Y=v+12*F+2,ue=g[c.getUint16(Y,!_)];ue&&(X[ue]=xr(c,Y,p,v,_))}return X}(h,r,r+o,l,t)}function xr(h,x,l,t,r){var o=h.getUint16(x+2,!r),c=h.getUint32(x+4,!r);switch(o){case 3:if(c===1)return h.getUint16(x+8,!r)}return null}var qt={};function _r(h,x){h.onload=function(){x.loaded(this)}}qt.load=function(h,x,l,t,r){var o,c,p,v=new Array(t),g=new Array(v.length);if(r===!1)v[0]=h;else for(o=0;o<v.length;o++)p=l+o,v[o]="".concat(h,"image-").concat("00".concat(p).slice(-3),".jpg");for(g.notLoaded=[],g.addImage=function(_){g.notLoaded.push(_)},g.loaded=function(_){for(var C=g.notLoaded,X=0;X<C.length;X++)if(C[X]===_){C.splice(X,1);for(var F=0;F<v.length;F++){var Y=v[F].substr(v[F].lastIndexOf("/"));if(_.src.lastIndexOf(Y)!==-1){g[F]={img:_};break}}break}C.length===0&&(r===!1?function(ue){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bt;return/^blob:/i.test(ue)?gr(ue).then(vr).then(function(he){return mr(he,le)}):Promise.resolve(null)}(h,["orientation"]).then(function(ue){g[0].tags=ue,x(g)}).catch(function(ue){console.log(ue),x(g)}):x(g))},o=0;o<v.length;o++)c=new Image,g.addImage(c),_r(c,g),c.src=v[o]};var br=qt,Vt={createVideoStream:function(h){console.warn("**** InputStreamBrowser createVideoStream");var x,l,t=null,r=["canrecord","ended"],o={},c={x:0,y:0,type:"Point"},p={x:0,y:0,type:"XYSize"},v={getRealWidth:function(){return h.videoWidth},getRealHeight:function(){return h.videoHeight},getWidth:function(){return x},getHeight:function(){return l},setWidth:function(g){x=g},setHeight:function(g){l=g},setInputStream:function(g){t=g,this.setAttribute("src",g.src!==void 0?g.src:"")},ended:function(){return h.ended},getConfig:function(){return t},setAttribute:function(g,_){h&&h.setAttribute(g,_)},pause:function(){h.pause()},play:function(){h.play()},setCurrentTime:function(g){var _;((_=t)===null||_===void 0?void 0:_.type)!=="LiveStream"&&this.setAttribute("currentTime",g.toString())},addEventListener:function(g,_,C){r.indexOf(g)!==-1?(o[g]||(o[g]=[]),o[g].push(_)):h.addEventListener(g,_,C)},clearEventHandlers:function(){r.forEach(function(g){var _=o[g];_&&_.length>0&&_.forEach(function(C){h.removeEventListener(g,C)})})},trigger:function(g,_){var C,X,F,Y,ue,le=o[g];if(g==="canrecord"&&(Y=h.videoWidth,ue=h.videoHeight,x=(X=t)!==null&&X!==void 0&&X.size?Y/ue>1?t.size:Math.floor(Y/ue*t.size):Y,l=(F=t)!==null&&F!==void 0&&F.size?Y/ue>1?Math.floor(ue/Y*t.size):t.size:ue,p.x=x,p.y=l),le&&le.length>0)for(C=0;C<le.length;C++)le[C].apply(v,_)},setTopRight:function(g){c.x=g.x,c.y=g.y},getTopRight:function(){return c},setCanvasSize:function(g){p.x=g.x,p.y=g.y},getCanvasSize:function(){return p},getFrame:function(){return h}};return v},createLiveStream:function(h){console.warn("**** InputStreamBrowser createLiveStream"),h&&h.setAttribute("autoplay","true");var x=Vt.createVideoStream(h);return x.ended=function(){return!1},x},createImageStream:function(){var h,x,l=null,t=0,r=0,o=0,c=!0,p=!1,v=null,g=0,_=null,C=!1,X=["canrecord","ended"],F={},Y={x:0,y:0,type:"Point"},ue={x:0,y:0,type:"XYSize"};function le(fe,ve){var _e,Ie=F[fe];if(Ie&&Ie.length>0)for(_e=0;_e<Ie.length;_e++)Ie[_e].apply(he,ve)}var he={trigger:le,getWidth:function(){return h},getHeight:function(){return x},setWidth:function(fe){h=fe},setHeight:function(fe){x=fe},getRealWidth:function(){return t},getRealHeight:function(){return r},setInputStream:function(fe){var ve;l=fe,fe.sequence===!1?(_=fe.src,g=1):(_=fe.src,g=fe.length),p=!1,br.load(_,function(_e){var Ie,Je;if(v=_e,_e[0].tags&&_e[0].tags.orientation)switch(_e[0].tags.orientation){case 6:case 8:t=_e[0].img.height,r=_e[0].img.width;break;default:t=_e[0].img.width,r=_e[0].img.height}else t=_e[0].img.width,r=_e[0].img.height;h=(Ie=l)!==null&&Ie!==void 0&&Ie.size?t/r>1?l.size:Math.floor(t/r*l.size):t,x=(Je=l)!==null&&Je!==void 0&&Je.size?t/r>1?Math.floor(r/t*l.size):l.size:r,ue.x=h,ue.y=x,p=!0,o=0,setTimeout(function(){le("canrecord",[])},0)},1,g,(ve=l)===null||ve===void 0?void 0:ve.sequence)},ended:function(){return C},setAttribute:function(){},getConfig:function(){return l},pause:function(){c=!0},play:function(){c=!1},setCurrentTime:function(fe){o=fe},addEventListener:function(fe,ve){X.indexOf(fe)!==-1&&(F[fe]||(F[fe]=[]),F[fe].push(ve))},clearEventHandlers:function(){Object.keys(F).forEach(function(fe){return delete F[fe]})},setTopRight:function(fe){Y.x=fe.x,Y.y=fe.y},getTopRight:function(){return Y},setCanvasSize:function(fe){ue.x=fe.x,ue.y=fe.y},getCanvasSize:function(){return ue},getFrame:function(){var fe,ve;return p?(c||(fe=(ve=v)===null||ve===void 0?void 0:ve[o],o<g-1?o++:setTimeout(function(){C=!0,le("ended",[])},0)),fe):null}};return he}},wr=Vt,ht=e(23),Or=I()(function h(){H()(this,h),S()(this,"config",void 0),S()(this,"inputStream",void 0),S()(this,"framegrabber",void 0),S()(this,"inputImageWrapper",void 0),S()(this,"stopped",!1),S()(this,"boxSize",void 0),S()(this,"resultCollector",void 0),S()(this,"decoder",void 0),S()(this,"workerPool",[]),S()(this,"onUIThread",!0),S()(this,"canvasContainer",new a)}),Gt=I()(function h(){H()(this,h),S()(this,"image",void 0),S()(this,"overlay",void 0)}),a=I()(function h(){H()(this,h),S()(this,"ctx",void 0),S()(this,"dom",void 0),this.ctx=new Gt,this.dom=new Gt});function d(h){if(typeof document>"u")return null;if(h instanceof HTMLElement&&h.nodeName&&h.nodeType===1)return h;var x=typeof h=="string"?h:"#interactive.viewport";return document.querySelector(x)}function y(h,x,l){var t=function(o,c){var p=document.querySelector(o);return p||((p=document.createElement("canvas")).className=c),p}(h,x);console.warn("* initCanvas getCanvasAndContext");var r=t.getContext("2d",{willReadFrequently:l.willReadFrequently});return{canvas:t,context:r}}function k(h){var x,l,t,r,o,c,p=d(h==null||(x=h.config)===null||x===void 0||(l=x.inputStream)===null||l===void 0?void 0:l.target),v=h==null||(t=h.config)===null||t===void 0||(r=t.inputStream)===null||r===void 0?void 0:r.type;if(!v)return null;var g=function(C,X){var F=X.willReadFrequently;if(typeof document<"u"){var Y=y("canvas.imgBuffer","imgBuffer",{willReadFrequently:F}),ue=y("canvas.drawingBuffer","drawingBuffer",{willReadFrequently:F});return Y.canvas.width=ue.canvas.width=C.x,Y.canvas.height=ue.canvas.height=C.y,{dom:{image:Y.canvas,overlay:ue.canvas},ctx:{image:Y.context,overlay:ue.context}}}return null}(h.inputStream.getCanvasSize(),{willReadFrequently:!(h==null||(o=h.config)===null||o===void 0||(c=o.inputStream)===null||c===void 0||!c.willReadFrequently)});if(!g)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var _=g.dom;return typeof document<"u"&&p&&(v!=="ImageStream"||p.contains(_.image)||p.appendChild(_.image),p.contains(_.overlay)||p.appendChild(_.overlay)),g}function z(h,x){var l=Object.keys(h);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(h);x&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(h,r).enumerable})),l.push.apply(l,t)}return l}function G(h){for(var x=1;x<arguments.length;x++){var l=arguments[x]!=null?arguments[x]:{};x%2?z(Object(l),!0).forEach(function(t){S()(h,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(l)):z(Object(l)).forEach(function(t){Object.defineProperty(h,t,Object.getOwnPropertyDescriptor(l,t))})}return h}ke.a.setMatrixArrayType(Array);var re=[];function ce(h){return G(G({},h),{},{inputStream:G(G({},h.inputStream),{},{target:null})})}function de(h){if(h){var x=h().default;if(!x)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var l;function t(o){self.postMessage({event:"processed",imageData:l.data,result:o},[l.data.buffer])}function r(){self.postMessage({event:"initialized",imageData:l.data},[l.data.buffer])}self.onmessage=function(o){if(o.data.cmd==="init"){var c=o.data.config;c.numOfWorkers=0,l=new x.ImageWrapper({x:o.data.size.x,y:o.data.size.y},new Uint8Array(o.data.imageData)),x.init(c,r,l),x.onProcessed(t)}else o.data.cmd==="process"?(l.data=new Uint8Array(o.data.imageData),x.start()):o.data.cmd==="setReaders"?x.setReaders(o.data.readers):o.data.cmd==="registerReader"&&x.registerReader(o.data.name,o.data.reader)}}function xe(h,x,l){var t,r,o=(typeof __factorySource__<"u"&&(r=__factorySource__),t=new Blob(["("+de.toString()+")("+r+");"],{type:"text/javascript"}),window.URL.createObjectURL(t)),c={worker:new Worker(o),imageData:new Uint8Array(x.getWidth()*x.getHeight()),busy:!0};c.worker.onmessage=function(p){p.data.event==="initialized"?(URL.revokeObjectURL(o),c.busy=!1,c.imageData=new Uint8Array(p.data.imageData),l(c)):p.data.event==="processed"?(c.imageData=new Uint8Array(p.data.imageData),c.busy=!1):p.data.event},c.worker.postMessage({cmd:"init",size:{x:x.getWidth(),y:x.getHeight()},imageData:c.imageData,config:ce(h)},[c.imageData.buffer])}function we(h,x,l,t){var r=h-re.length;if(r===0&&t)t();else if(r<0)re.slice(r).forEach(function(p){p.worker.terminate()}),re=re.slice(0,r),t&&t();else{var o=function(p){re.push(p),re.length>=h&&t&&t()};if(x)for(var c=0;c<r;c++)xe(x,l,o)}}function Te(h,x,l){for(var t=h.length;t--;)h[t][0]+=x,h[t][1]+=l}ke.a.setMatrixArrayType(Array);var je=function(){function h(){var t=this;H()(this,h),S()(this,"context",new Or),S()(this,"canRecord",function(r){var o;t.context.config&&(ht.a.checkImageConstraints(t.context.inputStream,(o=t.context.config)===null||o===void 0?void 0:o.locator),t.initCanvas(),t.context.framegrabber=pr.create(t.context.inputStream,t.context.canvasContainer.dom.image),t.context.config.numOfWorkers===void 0&&(t.context.config.numOfWorkers=0),we(t.context.config.numOfWorkers,t.context.config,t.context.inputStream,function(){var c;((c=t.context.config)===null||c===void 0?void 0:c.numOfWorkers)===0&&t.initializeData(),t.ready(r)}))}),S()(this,"update",function(){if(t.context.onUIThread){var r,o=(p=t.context.framegrabber,re.length?!!(v=re.filter(function(g){return!g.busy})[0])&&(p.attachData(v.imageData),p.grab()&&(v.busy=!0,v.worker.postMessage({cmd:"process",imageData:v.imageData},[v.imageData.buffer])),!0):null);o||(t.context.framegrabber.attachData((r=t.context.inputImageWrapper)===null||r===void 0?void 0:r.data),t.context.framegrabber.grab()&&(o||t.locateAndDecode()))}else{var c;t.context.framegrabber.attachData((c=t.context.inputImageWrapper)===null||c===void 0?void 0:c.data),t.context.framegrabber.grab(),t.locateAndDecode()}var p,v})}var x,l;return I()(h,[{key:"initBuffers",value:function(t){if(this.context.config){var r=function(p,v,g){var _=v||new R.a({x:p.getWidth(),y:p.getHeight(),type:"XYSize"}),C=[ke.c.clone([0,0]),ke.c.clone([0,_.size.y]),ke.c.clone([_.size.x,_.size.y]),ke.c.clone([_.size.x,0])];return ht.a.init(_,g),{inputImageWrapper:_,boxSize:C}}(this.context.inputStream,t,this.context.config.locator),o=r.inputImageWrapper,c=r.boxSize;this.context.inputImageWrapper=o,this.context.boxSize=c}}},{key:"initializeData",value:function(t){this.context.config&&(this.initBuffers(t),this.context.decoder=ft.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?d(this.context.config.inputStream.target):null}},{key:"ready",value:function(t){this.context.inputStream.play(),t()}},{key:"initCanvas",value:function(){var t=k(this.context);if(t){var r=t.ctx,o=t.dom;this.context.canvasContainer.dom.image=o.image,this.context.canvasContainer.dom.overlay=o.overlay,this.context.canvasContainer.ctx.image=r.image,this.context.canvasContainer.ctx.overlay=r.overlay}}},{key:"initInputStream",value:function(t){if(this.context.config&&this.context.config.inputStream){var r=this.context.config.inputStream,o=r.type,c=r.constraints,p=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"LiveStream",C=arguments.length>1?arguments[1]:void 0,X=arguments.length>2?arguments[2]:void 0;switch(_){case"VideoStream":var F=document.createElement("video");return{video:F,inputStream:X.createVideoStream(F)};case"ImageStream":return{inputStream:X.createImageStream()};case"LiveStream":var Y=null;return C&&((Y=C.querySelector("video"))||(Y=document.createElement("video"),C.appendChild(Y))),{video:Y,inputStream:X.createLiveStream(Y)};default:return console.error("* setupInputStream invalid type ".concat(_)),{video:null,inputStream:null}}}(o,this.getViewPort(),wr),v=p.video,g=p.inputStream;o==="LiveStream"&&v&&tt.request(v,c).then(function(){return g.trigger("canrecord")}).catch(function(_){return t(_)}),g&&(g.setAttribute("preload","auto"),g.setInputStream(this.context.config.inputStream),g.addEventListener("canrecord",this.canRecord.bind(void 0,t))),this.context.inputStream=g}}},{key:"getBoundingBoxes",value:function(){var t;return(t=this.context.config)!==null&&t!==void 0&&t.locate?ht.a.locate():[[ke.c.clone(this.context.boxSize[0]),ke.c.clone(this.context.boxSize[1]),ke.c.clone(this.context.boxSize[2]),ke.c.clone(this.context.boxSize[3])]]}},{key:"transformResult",value:function(t){var r=this,o=this.context.inputStream.getTopRight(),c=o.x,p=o.y;if((c!==0||p!==0)&&(t.barcodes&&t.barcodes.forEach(function(g){return r.transformResult(g)}),t.line&&t.line.length===2&&function(g,_,C){g[0].x+=_,g[0].y+=C,g[1].x+=_,g[1].y+=C}(t.line,c,p),t.box&&Te(t.box,c,p),t.boxes&&t.boxes.length>0))for(var v=0;v<t.boxes.length;v++)Te(t.boxes[v],c,p)}},{key:"addResult",value:function(t,r){var o=this;r&&this.context.resultCollector&&(t.barcodes?t.barcodes.filter(function(c){return c.codeResult}).forEach(function(c){return o.addResult(c,r)}):t.codeResult&&this.context.resultCollector.addResult(r,this.context.inputStream.getCanvasSize(),t.codeResult))}},{key:"hasCodeResult",value:function(t){return!(!t||!(t.barcodes?t.barcodes.some(function(r){return r.codeResult}):t.codeResult))}},{key:"publishResult",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,o=t;t&&this.context.onUIThread&&(this.transformResult(t),this.addResult(t,r),o=t.barcodes||t),Le.publish("processed",o),this.hasCodeResult(t)&&Le.publish("detected",o)}},{key:"locateAndDecode",value:(l=B()(W.a.mark(function t(){var r,o,c,p,v;return W.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(!(r=this.getBoundingBoxes())){g.next=12;break}return g.next=4,this.context.decoder.decodeFromBoundingBoxes(r);case 4:if(g.t0=g.sent,g.t0){g.next=7;break}g.t0={};case 7:(c=g.t0).boxes=r,this.publishResult(c,(o=this.context.inputImageWrapper)===null||o===void 0?void 0:o.data),g.next=16;break;case 12:return g.next=14,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 14:(p=g.sent)?this.publishResult(p,(v=this.context.inputImageWrapper)===null||v===void 0?void 0:v.data):this.publishResult();case 16:case"end":return g.stop()}},t,this)})),function(){return l.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var t,r=this,o=null,c=1e3/(((t=this.context.config)===null||t===void 0?void 0:t.frequency)||60);this.context.stopped=!1;var p=this.context;(function v(g){o=o||g,p.stopped||(g>=o&&(o+=c,r.update()),window.requestAnimationFrame(v))})(performance.now())}},{key:"start",value:function(){var t,r;this.context.onUIThread&&((t=this.context.config)===null||t===void 0||(r=t.inputStream)===null||r===void 0?void 0:r.type)==="LiveStream"?this.startContinuousUpdate():this.update()}},{key:"stop",value:(x=B()(W.a.mark(function t(){var r;return W.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(this.context.stopped=!0,we(0),(r=this.context.config)===null||r===void 0||!r.inputStream||this.context.config.inputStream.type!=="LiveStream"){o.next=6;break}return o.next=5,tt.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return o.stop()}},t,this)})),function(){return x.apply(this,arguments)})},{key:"setReaders",value:function(t){this.context.decoder&&this.context.decoder.setReaders(t),function(r){re.forEach(function(o){return o.worker.postMessage({cmd:"setReaders",readers:r})})}(t)}},{key:"registerReader",value:function(t,r){ft.registerReader(t,r),this.context.decoder&&this.context.decoder.registerReader(t,r),function(o,c){re.forEach(function(p){return p.worker.postMessage({cmd:"registerReader",name:o,reader:c})})}(t,r)}}]),h}(),qe=new je,ot=qe.context,pt={init:function(h,x,l){var t,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:qe;return x||(t=new Promise(function(o,c){x=function(p){p?c(p):o()}})),r.context.config=O()({},dr,h),r.context.config.numOfWorkers>0&&(r.context.config.numOfWorkers=0),l?(r.context.onUIThread=!1,r.initializeData(l),x&&x()):r.initInputStream(x),t},start:function(){return qe.start()},stop:function(){return qe.stop()},pause:function(){ot.stopped=!0},onDetected:function(h){h&&(typeof h=="function"||f()(h)==="object"&&h.callback)?Le.subscribe("detected",h):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(h){Le.unsubscribe("detected",h)},onProcessed:function(h){h&&(typeof h=="function"||f()(h)==="object"&&h.callback)?Le.subscribe("processed",h):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(h){Le.unsubscribe("processed",h)},setReaders:function(h){h?qe.setReaders(h):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(h,x){h?x?qe.registerReader(h,x):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(h){h&&typeof h.addResult=="function"&&(ot.resultCollector=h)},get canvas(){return ot.canvasContainer},decodeSingle:function(h,x){var l=this,t=new je;return(h=O()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:h.src},numOfWorkers:1,locator:{halfSample:!1}},h)).numOfWorkers>0&&(h.numOfWorkers=0),h.numOfWorkers>0&&(typeof Blob>"u"||typeof Worker>"u")&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),h.numOfWorkers=0),new Promise(function(r,o){try{l.init(h,function(){Le.once("processed",function(c){t.stop(),x&&x.call(null,c),r(c)},!0),t.start()},null,t)}catch(c){o(c)}})},get default(){return pt},Readers:n,CameraAccess:tt,ImageDebug:ae.a,ImageWrapper:R.a,ResultCollector:Ft};w.default=pt}]).default})})(an);const Ue=Ir(Er);async function un(be,oe){const u=await en.import(be);if(u!==null)for(const w of u.data){const e={...Ae.new(),name:w[oe.Name],upc:w[oe.UPC]};if(oe.Quantity!==""){const n=parseInt(w[oe.Quantity]);isNaN(n)||(e.quantity=n)}for(const n of Object.keys(oe))n!=="Name"&&n!=="Quantity"&&n!=="UPC"&&(e.properties[n]=w[oe[n]]);await Ae.create(e)}}function cn(){return{view:be=>ge("div.InventoryItems__buttons",[ge(Cr,{classes:"GlobalButtonIconAdd",icon:Xe.Delete,onclick:async oe=>(oe.stopPropagation(),Ae.update({...be.attrs,quantity:be.attrs.quantity-1})),style:{visibility:be.attrs.quantity>0&&Fe.permitted(We.Inventory,!0)?void 0:"hidden"}}),ge("span",be.attrs.quantity),Fe.permitted(We.Inventory,!0)?ge(Cr,{classes:"GlobalButtonIconAdd",icon:Xe.Add,onclick:async oe=>(oe.stopPropagation(),Ae.update({...be.attrs,quantity:be.attrs.quantity+1})),style:{visibility:Fe.permitted(We.Inventory,!0)?void 0:"hidden"}}):[],Fe.permitted(We.Shop,!0)?ge(Cr,{classes:`GlobalButtonIconAdd${Mr.findName(be.attrs.name).name===""?"":"InventoryItems__button--disabled"}`,icon:Xe.Shop,onclick:async oe=>{if(oe.stopPropagation(),Mr.findName(be.attrs.name).name!==""){Ge.setLayoutAppAlert({message:"Item already on shopping list"});return}Ge.setLayoutAppForm(Kr,{...Mr.new(),authHouseholdID:be.attrs.authHouseholdID,name:be.attrs.name})},style:{visibility:Fe.permitted(We.Inventory,!0)?void 0:"hidden"}}):[]])}}function pn(){const be={image:"",quantity:"",name:"",[`properties.${Ce.translate(Dr)}`]:""},oe={collection:Ve.new(),collectionID:at(""),columns:at(Rr(be)),formImport:{fields:{Name:"",Quantity:"",UPC:""},visible:!1},household:Ar.findID(Ce.data().primaryAuthHouseholdID),scanning:!1,search:at(""),sort:at({invert:!1,property:"name"}),wait:!1,waiting:0};function u(){const n={};for(const i of Object.keys(oe.columns()))i.startsWith("properties.")&&(n[i.replace("properties.","")]=oe.columns()[i]);return{...Ae.new(),properties:n}}async function w(){document.getElementsByTagName("body")[0].style.visibility="visible",document.getElementsByTagName("canvas")[0]!==void 0&&document.getElementsByTagName("canvas")[0].remove(),document.getElementsByTagName("video")[0]!==void 0&&(document.getElementsByTagName("video")[0].pause(),document.getElementsByTagName("video")[0].remove()),await Ue.stop(),oe.scanning=!1}let e;return{oninit:async()=>{if(at.lift((n,i)=>{i==="all"||i===""?(oe.collection=Ve.new(),oe.collection.columns=Rr(be),oe.collection.name=Ce.translate(Pr)):oe.collection=Ve.findID(i),Ge.setLayoutApp({...on("inventory"),breadcrumbs:[{link:"/inventory",name:Ce.translate(Tr)},{name:oe.collection.name}],toolbarActionButtons:[{...Sr().newInventoryItem,onclick:()=>{Ge.setLayoutAppForm(Ht,u())}},{icon:Xe.Scan,name:Ce.translate(jr),onclick:async()=>{await Ue.init({decoder:{readers:["ean_reader"]},inputStream:{name:"Live",target:"#scanner",type:"LiveStream"}},s=>{s!==void 0&&zr(`InventoryItems: error scanning: ${s}`),oe.scanning=!0,Ue.start(),ge.redraw()}),Ue.onProcessed(s=>{const f=Ue.canvas.ctx.overlay,m=Ue.canvas.dom.overlay;s!==null&&(s.boxes!==null&&(f.clearRect(0,0,parseInt(m.getAttribute("width")),parseInt(m.getAttribute("height"))),s.boxes.filter(O=>O!==s.box).forEach(O=>{Ue.ImageDebug.drawPath(O,{x:0,y:1},f,{color:"green",lineWidth:2})})),s.box!==void 0&&Ue.ImageDebug.drawPath(s.box,{x:0,y:1},f,{color:"#00F",lineWidth:2}),s.codeResult!==void 0&&s.codeResult.code!==void 0&&Ue.ImageDebug.drawPath(s.line,{x:"x",y:"y"},f,{color:"red",lineWidth:3}))}),Ue.onDetected(async s=>{if(s.codeResult.code!==null&&!oe.wait){const f=s.codeResult.decodedCodes.filter(E=>E.error!==void 0).map(E=>E.error===void 0?0:E.error);let m=0;f.sort((E,B)=>E-B);const O=Math.floor(f.length/2);if(f.length%2===1&&(m=f[O]),m=(f[O-1]+f[O])/2,m>.09)return;oe.waiting++,oe.wait=!0,setTimeout(()=>{oe.waiting--,oe.waiting===0&&(oe.wait=!1)},1e3);let R=Ae.findUPC(s.codeResult.code);if(R.id===null)R=u(),R.upc=s.codeResult.code,Ge.setLayoutAppForm(Ht,R);else return R.quantity++,Ae.update(R,!0).then(()=>{Ge.setLayoutAppAlert({message:`${Ce.translate(Nr)} 1 ${R.name}`})});ge.redraw()}}),ge.redraw()},permitted:Fe.permitted(We.Inventory,!0),requireOnline:!0},{icon:Xe.ImportExport,name:Ce.translate(Lr),onclick:()=>{oe.formImport.visible=!0},permitted:Fe.permitted(We.Inventory,!0),requireOnline:!0},Sr().newInventoryCollection]}),oe.columns({...oe.collection.columns}),oe.sort(oe.collection.sort),ge.redraw()},Ve.data,oe.collectionID),e=at.lift((n,i,s,f)=>rn.array(n,i,f).filter(m=>{let O=`quantity=${m.quantity} name=${m.name} upc=${m.upc}`;return Object.keys(m.properties).map(R=>{O+=` ${R}=${m.properties[R]}`}),s===""||O.toLowerCase().includes(s.toLowerCase())}),Ae.data,oe.columns,oe.search,oe.sort),ge.route.param().collection===void 0?oe.collectionID(""):oe.collectionID(ge.route.param().collection),ge.route.param().household===void 0?ge.route.param().household=oe.household.id:oe.household=Ar.findID(ge.route.param().household),ge.route.param().id!==void 0){let n=Ae.new();Ae.data.map(()=>{n=Ae.findID(ge.route.param().id)}),Ge.setLayoutAppForm(Ht,n)}ge.route.param().name!==void 0&&oe.columns({...oe.columns(),name:ge.route.param().name})},onremove:async()=>{e.end(!0),await w()},view:()=>[ge(tn,{fields:oe.formImport.fields,merge:!0,oninput:(n,i)=>{oe.formImport.fields[n]=i,n!==i&&delete oe.formImport.fields[i]},onsubmit:async n=>{await un(n,oe.formImport.fields)},title:Ce.translate(Ur),toggle:n=>{oe.formImport.visible=n},visible:oe.formImport.visible}),ge("div.InventoryItems__scanner#scanner"),oe.scanning?ge(Wr,{accent:!0,name:Ce.translate(Fr),onclick:async()=>{await w()},permitted:!0,requireOnline:!1}):[],ge(Jr,{actions:[{accent:!0,icon:Xe.Cancel,name:Ce.translate(Br),onclick:async()=>new Promise(n=>(oe.columns(Ve.findID(oe.collection.id).columns),n())),permitted:Fe.permitted(We.Inventory,!0)&&oe.collection.id!==null&&JSON.stringify(oe.columns())!==JSON.stringify(Ve.findID(oe.collection.id).columns),requireOnline:!0},{icon:Xe.Edit,name:Ce.translate(qr),onclick:async()=>{Ge.setLayoutAppForm(Vr,{...oe.collection,columns:oe.columns()})},permitted:Fe.permitted(We.Inventory,!0)&&oe.collection.id!==null,requireOnline:!0},{icon:Xe.Save,name:Ce.translate(Gr),onclick:async()=>(oe.collection.columns=oe.columns(),Ve.update(oe.collection).then(()=>{oe.columns(Ve.findID(oe.collection.id).columns)})),permitted:Fe.permitted(We.Inventory,!0)&&oe.collection.id!==null&&JSON.stringify(oe.columns())!==JSON.stringify(Ve.findID(oe.collection.id).columns),primary:!0,requireOnline:!0}],data:e(),editOnclick:async n=>{const i=Rr(n);i.qrlink=Ae.getLink(i.id),i.qrcode=await Hr.toDataURL(i.qrlink),Ge.setLayoutAppForm(Ht,i)},filters:[],loaded:Ae.isLoaded(),search:{onsearch:n=>{oe.search(n)},placeholder:Ce.translate(Xr)},sort:oe.sort,staticColumns:!1,tableColumns:[{name:"ID",property:"id"},{name:Ce.translate($r),noFilter:!0,noSort:!0,property:"image",type:Qr.Image},{name:Ce.translate(Yr),property:"quantity",render:cn},{name:Ce.translate(Zr),property:"name"},...Ae.properties().map(n=>({formatter:i=>i.properties[n]!==void 0?i.properties[n]:"",name:n,property:`properties.${n}`})),nn()],tableColumnsNameEnabled:oe.columns})]}}export{pn as InventoryItems};
