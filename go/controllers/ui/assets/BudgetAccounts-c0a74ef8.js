import{S as r,c as a,m as o,ao as d,A as i,ap as h,O as b,ab as y,aq as A,ar as f,af as g,T as n,as as T,at as H,D as I,au as B,a as D}from"./index-09c2e996.js";import{F}from"./Filter-01c23926.js";import{T as O}from"./TableColumnHousehold-f6fe7c15.js";import{T as k}from"./TitleTabsAuthHouseholds-59423851.js";import{G as S}from"./GetHelp-610c77dd.js";function L(){const e={authHouseholdID:r(a.data().primaryAuthHouseholdID),columns:r({name:"",icon:"",budget:"",budgetTransactionAmount:""}),hidden:r(!1),sort:r({formatter:t=>t.name,invert:!1,property:"name"})};let u;return{oninit:async()=>{u=r.lift((t,s,m,c,p)=>(o.redraw(),F.array(t.filter(l=>l.hidden===c&&s===null||l.authHouseholdID===s),m,p)),d.data,e.authHouseholdID,e.columns,e.hidden,e.sort),i.setLayoutApp({...S("budget"),breadcrumbs:[{link:"/budget/accounts",name:a.translate(h)},{name:a.translate(b)}],toolbarActionButtons:[y().newBudgetAccount]}),o.route.param().household===void 0?o.route.param().household=e.authHouseholdID():e.authHouseholdID(o.route.param().household)},onremove:()=>{u.end(!0)},view:()=>o(D,{actions:[{name:a.translate(A),onclick:async()=>new Promise(t=>(e.hidden(!e.hidden()),t())),permitted:!0,requireOnline:!1,secondary:e.hidden()}],data:u(),editOnclick:t=>{i.setLayoutAppForm(f,t)},filters:[],loaded:d.isLoaded(),sort:e.sort,tableColumns:[{formatter:t=>t.name,linkFormatter:t=>`/budget/accounts/${t.id}`,linkRequireOnline:!0,name:a.translate(g),property:"name",type:n.Link},{name:a.translate(T),property:"icon",type:n.Icon},{name:a.translate(H),noFilter:!0,property:"budget",type:n.Checkbox},{currencyFormat:I.findID(e.authHouseholdID()).preferences.currency,name:a.translate(B),property:"budgetTransactionAmount",type:n.Currency},O()],tableColumnsNameEnabled:e.columns,title:{tabs:k()}})}}export{L as BudgetAccounts};
