import{S as n,c as e,ht as h,dk as m,A as p,ds as c,a$ as b,ab as d,m as r,F as l,hu as y,hv as f,aN as S,b as g,hw as C,ax as u,af as O,hx as A,hy as v,dl as F,a as I}from"./index-09c2e996.js";import{F as T}from"./Filter-01c23926.js";import{T as W}from"./TableColumnHousehold-f6fe7c15.js";import{G as j}from"./GetHelp-610c77dd.js";function N(){const o={columns:n({name:"",match:"",shopStoreID:""}),formShopCategoryVisible:!1,matchInput:"",matchOutput:e.translate(h),sort:n({invert:!1,property:"name"})};let s;return{oninit:async()=>{s=n.lift((t,a,i)=>T.array(t,a,i),m.data,o.columns,o.sort),p.setLayoutApp({...j("shop"),breadcrumbs:[{link:"/shop/items",name:e.translate(c)},{name:e.translate(b)}],toolbarActionButtons:[d().newShopCategory]})},onremove:()=>{s.end(!0)},view:()=>[r(g,[r(l,{input:{oninput:t=>{o.matchInput=t;const a=m.findMatch(t).name;a===""&&(o.matchOutput="No matches"),o.matchOutput=a},type:"text",value:o.matchInput},name:e.translate(y),tooltip:e.translate(f)}),r(l,{input:{disabled:!0,oninput:()=>{},type:"text",value:o.matchOutput},name:e.translate(S),tooltip:""})]),r(I,{actions:[],data:s(),editOnclick:t=>{p.setLayoutAppForm(C,t)},filters:[],loaded:u.isLoaded()&&m.isLoaded(),sort:o.sort,tableColumns:[{name:e.translate(O),property:"name"},{formatter:t=>{if(t.match!==""){let a=t.match.split("|");return a.length>4&&(a=a.slice(0,4),a.push("...")),a.join(`
`)}return""},name:e.translate(A),property:"match"},{formatter:t=>u.findID(t.budgetPayeeID).name,name:`${e.translate(v)} ${e.translate(F)}`,property:"shopStoreID"},W()],tableColumnsNameEnabled:o.columns})]}}export{N as ShopCategories};
