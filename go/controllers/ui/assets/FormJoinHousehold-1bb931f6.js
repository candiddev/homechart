import{m as n,F as d,c as t,gq as o,aY as m,I as i,gr as h,x as s,s as A,D as l,C as u,fT as b,o as p,ah as c,b as f}from"./index-09c2e996.js";import{A as S}from"./AuthAccountAuthHousehold-a53b69dd.js";function H(){let r="";return{oninit:()=>{const e=localStorage.getItem("token");e!==null&&(r=e)},view:e=>n(f,{buttons:[{icon:i.Add,name:`${t.translate(A)} ${t.translate(s)}`,onclick:async()=>l.create({...l.new(),name:`${t.data().name}'s Household`,subscriptionReferrerCode:t.data().subscriptionReferrerCode}).then(async a=>{if(u(a))return a;b.clearRefreshed(),await t.read(),await p.validate(),c.readAll(),e.attrs.onjoin!==void 0&&e.attrs.onjoin(a)}),permitted:e.attrs.add===!0&&!t.data().child,primary:!0,requireOnline:!0}],onsubmit:async()=>{const a=await S.inviteAccept(r);u(a)||(c.readAll(),r="",e.attrs.onjoin!==void 0&&e.attrs.onjoin(a))}},[n(d,{input:{oninput:a=>{localStorage.removeItem("token"),r=a},required:!0,type:"text",value:r},name:t.translate(o),tooltip:t.translate(o)}),n(m,{icon:i.Invite,name:`${t.translate(h)} ${t.translate(s)}`,permitted:!t.data().child,requireOnline:!0,submit:!0})],e.children)}}export{H as F};
