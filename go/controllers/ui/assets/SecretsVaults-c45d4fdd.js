import{S as o,m as a,fb as n,I as d,c as t,ak as i,A as u,fc as f,ab as b,fd as h,dT as y,af as A,T as s,as as S,al as I,x as k,a as T}from"./index-09c2e996.js";import{F as v}from"./Filter-01c23926.js";import{T as F}from"./TableColumnHousehold-f6fe7c15.js";import{G as C}from"./GetHelp-610c77dd.js";function x(){const r={columns:o({name:"",icon:""}),sort:o({invert:!1,property:"name"})};let l;return{oninit:async()=>{l=o.lift((e,c,p)=>(a.redraw(),v.array([{...n.new(),icon:d.All,id:"all",name:t.translate(i)},...e.filter(m=>a.route.param().filter==="personal"?m.authAccountID!==null:a.route.param().filter==="household"?m.authHouseholdID!==null:!0)],c,p)),n.data,r.columns,r.sort),u.setLayoutApp({...C("secrets"),breadcrumbs:[{link:"/secrets",name:t.translate(f)}],toolbarActionButtons:[b().newSecretsVault]})},onremove:()=>{l.end(!0)},view:()=>a(T,{actions:[],data:l(),editOnclick:e=>{e.name===t.translate(i)?a.route.set("/secrets/all"):u.setLayoutAppForm(h,e)},filters:[],loaded:y.isLoaded(),sort:r.sort,tableColumns:[{formatter:e=>e.name,linkFormatter:e=>`/secrets/${e.id}`,linkRequireOnline:!0,name:t.translate(A),property:"name",type:s.Link,typeCheck:e=>e.name!=="All"&&n.findKeyIndex(e.keys,t.data().id)<0?s.Text:s.Link},{name:t.translate(S),property:"icon",type:s.Icon},F()],tableColumnsNameEnabled:r.columns,title:{tabs:[{active:a.route.param().filter===void 0,href:"/secrets",name:t.translate(i)},{active:a.route.param().filter==="personal",href:"/secrets?filter=personal",name:t.translate(I)},{active:a.route.param().filter==="household",href:"/secrets?filter=household",name:t.translate(k)}]}})}}export{x as SecretsVaults};
