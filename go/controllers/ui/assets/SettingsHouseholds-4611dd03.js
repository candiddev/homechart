import{S as n,A as i,c as t,fR as u,E as l,I as m,D as s,C as d,o as c,m as a,a as p,af as h,R as b,gp as y,ah as H,ai as S,T as A,b2 as r}from"./index-09c2e996.js";import{F as f}from"./FormJoinHousehold-1bb931f6.js";import{G as g}from"./GetHelp-610c77dd.js";import"./AuthAccountAuthHousehold-a53b69dd.js";function I(){const o=n({name:"",countMembers:"",primary:""});return{oninit:()=>{r.spanStart("SettingsHouseholds"),i.setLayoutApp({...g("/using-homechart/platform/settings#households",!0),breadcrumbs:[{link:"/settings/account",name:t.translate(u)},{name:t.translate(l)}],toolbarActionButtons:[{icon:m.Household,name:"Household",onclick:async()=>s.create({...s.new(),name:`${t.data().name}'s Household`}).then(async e=>{if(d(e))return e;await c.validate(),a.route.set(`/settings/households/${e.id}`)}),permitted:!t.data().child,requireOnline:!0}]}),r.spanEnd("SettingsHouseholds")},view:()=>[a(f,a(p,{actions:[],data:s.data(),editOnclick:e=>{a.route.set(`/settings/households/${e.id}`)},filters:[],loaded:!0,noFilters:!0,tableColumns:[{name:t.translate(h),property:"name"},{name:t.translate(b),property:"countMembers"},{checkboxOnclick:async e=>(t.data().primaryAuthHouseholdID=e.id,t.update(t.data())),formatter:e=>t.data().primaryAuthHouseholdID===e.id,name:t.translate(y),noFilter:!0,permitted:()=>H.permitted(S.Auth,!0),property:"primary",type:A.Checkbox}],tableColumnsNameEnabled:o}))]}}export{I as SettingsHouseholds};
